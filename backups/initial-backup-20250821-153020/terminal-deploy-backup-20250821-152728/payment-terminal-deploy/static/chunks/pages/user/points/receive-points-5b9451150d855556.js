(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4686],{4297:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var i=s(7294),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),r=(e,t)=>{let s=(0,i.forwardRef)(({color:s="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:o,...x},m)=>(0,i.createElement)("svg",{ref:m,...n,width:r,height:r,stroke:s,strokeWidth:c?24*Number(l)/Number(r):l,className:["lucide",`lucide-${a(e)}`,d].join(" "),...x},[...t.map(([e,t])=>(0,i.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s}},3219:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(4297).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5077:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(4297).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1267:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(4297).Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},6915:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(4297).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},3025:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(4297).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},7669:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(4297).Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},6383:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(4297).Z)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},7307:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(4297).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},1352:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(4297).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9461:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(4297).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},4406:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/points/receive-points",function(){return s(6473)}])},6473:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var i=s(5893),n=s(7294),a=s(1163),r=s(6383);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(4297).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var c=s(9461),d=s(7669),o=s(3219),x=s(3025),m=s(1267),h=s(5077),u=s(7307),p=s(1352),g=s(6915),y=()=>{let e=(0,a.useRouter)(),[t,s]=(0,n.useState)(8750),[y,j]=(0,n.useState)("qr"),[b,f]=(0,n.useState)([]),[k,v]=(0,n.useState)([]),[N,w]=(0,n.useState)(""),[Z,A]=(0,n.useState)(""),[C,M]=(0,n.useState)(1),[z,q]=(0,n.useState)(!1),[S,R]=(0,n.useState)("");(0,n.useEffect)(()=>{f([{id:"rx-001",senderId:1,senderName:"田中 花子",amount:500,message:"ランチ代ありがとう！",status:"completed",createdAt:"2024-01-20T10:30:00Z",method:"direct"},{id:"rx-002",senderId:2,senderName:"佐藤 太郎",amount:300,message:"コーヒー代です",status:"completed",createdAt:"2024-01-19T15:45:00Z",method:"qr"},{id:"rx-003",senderId:3,senderName:"山田 美咲",amount:1e3,message:"お疲れ様でした！",status:"pending",createdAt:"2024-01-21T09:15:00Z",method:"link"}]),v([{id:"qr-001",amount:500,message:"ランチ代シェア",expiresAt:"2024-01-25T23:59:59Z",isActive:!0,usageCount:0,maxUsage:1},{id:"qr-002",message:"自由額でお支払い",expiresAt:"2024-01-30T23:59:59Z",isActive:!0,usageCount:2,maxUsage:5}])},[]);let $=async()=>{if(N&&0>=parseInt(N)){alert("有効な金額を入力してください");return}q(!0);try{await new Promise(e=>setTimeout(e,1e3));let e={id:`qr-${Date.now()}`,amount:N?parseInt(N):void 0,message:Z||void 0,expiresAt:new Date(Date.now()+864e5).toISOString(),isActive:!0,usageCount:0,maxUsage:C};v(t=>[e,...t]),w(""),A(""),M(1),alert("QRコードを生成しました！")}catch(e){console.error("Failed to generate QR code:",e),alert("QRコード生成に失敗しました。")}finally{q(!1)}},Q=e=>{v(t=>t.map(t=>t.id===e?{...t,isActive:!t.isActive}:t))},_=e=>{confirm("このQRコードを削除しますか？")&&v(t=>t.filter(t=>t.id!==e))},L=e=>new Date(e).toLocaleString("ja-JP",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),T=e=>{switch(e){case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},E=e=>{switch(e){case"completed":return"受信完了";case"pending":return"処理中";case"failed":return"受信失敗";default:return"不明"}},I=e=>{switch(e){case"qr":return(0,i.jsx)(r.Z,{size:16});case"link":return(0,i.jsx)(l,{size:16});case"direct":return(0,i.jsx)(c.Z,{size:16});default:return(0,i.jsx)(d.Z,{size:16})}},D=e=>{switch(e){case"qr":return"QRコード";case"link":return"リンク";case"direct":return"直接送信";default:return"不明"}};return(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-rose-50 to-peach-50 dreamy-bg",children:[(0,i.jsx)("div",{className:"bg-white/95 backdrop-blur-sm shadow-soft border-b border-pink-100",children:(0,i.jsx)("div",{className:"header-responsive",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsxs)("button",{onClick:()=>e.back(),className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-pink-300 rounded-xl hover:bg-pink-50 hover:border-pink-400 transition-all duration-200 text-pink-600 font-semibold shadow-sm",children:[(0,i.jsx)(o.Z,{className:"w-4 h-4"}),(0,i.jsx)("span",{className:"text-sm",children:"Back"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-cutie font-bold gradient-text-soft",children:"ポイント受信"}),(0,i.jsx)("p",{className:"text-sm text-pink-600",children:"ポイントを受け取ろう"})]})]}),(0,i.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-rose-500 rounded-5xl flex items-center justify-center floating-animation",children:(0,i.jsx)(x.Z,{className:"w-6 h-6 text-white"})})]})})}),(0,i.jsxs)("div",{className:"main-responsive section-spacing",children:[(0,i.jsxs)("div",{className:"card-mobile-friendly text-center",children:[(0,i.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,i.jsx)(m.Z,{className:"w-6 h-6 text-yellow-500"}),(0,i.jsx)("h2",{className:"text-lg font-bold text-pink-800",children:"現在のポイント"})]}),(0,i.jsxs)("div",{className:"text-4xl font-cutie font-bold gradient-text-soft mb-2",children:[t.toLocaleString()," pt"]}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"利用可能ポイント"})]}),(0,i.jsxs)("div",{className:"card-mobile-friendly",children:[(0,i.jsx)("h3",{className:"text-lg font-bold text-pink-800 mb-4",children:"受信方法"}),(0,i.jsx)("div",{className:"responsive-grid gap-3",children:[{id:"qr",label:"QRコード",icon:r.Z,desc:"QRで受信"},{id:"link",label:"リンク",icon:l,desc:"リンクで受信"},{id:"history",label:"履歴",icon:h.Z,desc:"受信履歴"}].map(({id:e,label:t,icon:s,desc:n})=>(0,i.jsxs)("button",{onClick:()=>j(e),className:`p-4 rounded-3xl border-2 transition-all text-center ${y===e?"border-pink-400 bg-pink-50":"border-gray-200 hover:border-pink-300"}`,children:[(0,i.jsx)(s,{size:24,className:"mx-auto mb-2 text-pink-600"}),(0,i.jsx)("div",{className:"font-semibold text-sm",children:t}),(0,i.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:n})]},e))})]}),"qr"===y&&(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"card-mobile-friendly",children:[(0,i.jsx)("h3",{className:"text-lg font-bold text-pink-800 mb-4",children:"新しいQRコードを生成"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold text-pink-800 mb-2",children:"受信金額（任意）"}),(0,i.jsx)("input",{type:"number",value:N,onChange:e=>w(e.target.value),className:"form-input-responsive",placeholder:"金額を固定する場合は入力（空欄で自由額）",min:"1"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold text-pink-800 mb-2",children:"メッセージ（任意）"}),(0,i.jsx)("input",{type:"text",value:Z,onChange:e=>A(e.target.value),className:"form-input-responsive",placeholder:"メッセージを入力",maxLength:50})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold text-pink-800 mb-2",children:"使用回数制限"}),(0,i.jsxs)("select",{value:C,onChange:e=>M(parseInt(e.target.value)),className:"form-input-responsive",children:[(0,i.jsx)("option",{value:1,children:"1回限り"}),(0,i.jsx)("option",{value:5,children:"5回まで"}),(0,i.jsx)("option",{value:10,children:"10回まで"}),(0,i.jsx)("option",{value:-1,children:"無制限"})]})]}),(0,i.jsx)("button",{onClick:$,disabled:z,className:"w-full btn-primary py-3 disabled:opacity-50",children:z?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"生成中..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Z,{size:20,className:"mr-2"}),"QRコードを生成"]})})]})]}),(0,i.jsxs)("div",{className:"card-mobile-friendly",children:[(0,i.jsx)("h3",{className:"text-lg font-bold text-pink-800 mb-4",children:"生成済みQRコード"}),0===k.length?(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)(r.Z,{size:48,className:"mx-auto mb-4 text-pink-300"}),(0,i.jsx)("p",{className:"text-pink-500",children:"生成されたQRコードがありません"})]}):(0,i.jsx)("div",{className:"space-y-4",children:k.map(e=>(0,i.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-pink-50 rounded-3xl",children:[(0,i.jsx)("div",{className:"w-16 h-16 bg-white border-2 border-pink-200 rounded-2xl flex items-center justify-center flex-shrink-0",children:(0,i.jsx)(r.Z,{size:32,className:"text-pink-600"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,i.jsx)("h4",{className:"font-semibold text-pink-800",children:e.amount?`${e.amount.toLocaleString()} pt`:"自由額"}),(0,i.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${e.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.isActive?"アクティブ":"無効"})]}),e.message&&(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.message}),(0,i.jsxs)("p",{className:"text-xs text-gray-500",children:["使用回数: ",e.usageCount,"/",-1===e.maxUsage?"∞":e.maxUsage]}),(0,i.jsxs)("p",{className:"text-xs text-gray-500",children:["期限: ",L(e.expiresAt)]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("button",{onClick:()=>Q(e.id),className:`btn-secondary text-sm px-3 py-2 ${e.isActive?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:e.isActive?"無効化":"有効化"}),(0,i.jsx)("button",{className:"btn-icon-responsive text-sm px-3 py-2",children:(0,i.jsx)(u.Z,{size:16})}),(0,i.jsx)("button",{onClick:()=>_(e.id),className:"btn-icon-responsive text-sm px-3 py-2 bg-red-100 text-red-700",children:(0,i.jsx)(p.Z,{size:16})})]})]},e.id))})]})]}),"link"===y&&(0,i.jsxs)("div",{className:"card-mobile-friendly",children:[(0,i.jsx)("h3",{className:"text-lg font-bold text-pink-800 mb-4",children:"シェアリンク生成"}),(0,i.jsxs)("div",{className:"text-center space-y-4",children:[(0,i.jsx)("div",{className:"w-32 h-32 bg-pink-100 rounded-3xl flex items-center justify-center mx-auto",children:(0,i.jsx)(l,{size:60,className:"text-pink-400"})}),(0,i.jsx)("p",{className:"text-gray-600",children:"受信用のリンクを生成してシェアできます"}),(0,i.jsxs)("button",{onClick:()=>{let e=`link-${Date.now()}`,t=`${window.location.origin}/receive/${e}`;R(t),navigator.clipboard.writeText(t),alert("リンクがクリップボードにコピーされました！")},className:"btn-responsive btn-primary",children:[(0,i.jsx)(l,{size:18,className:"mr-2"}),"受信リンクを生成"]}),S&&(0,i.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-3xl",children:[(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"生成されたリンク:"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("input",{type:"text",value:S,readOnly:!0,className:"form-input-responsive text-sm"}),(0,i.jsx)("button",{onClick:()=>navigator.clipboard.writeText(S),className:"btn-icon-responsive px-3 py-2",children:(0,i.jsx)(g.Z,{size:16})})]})]})]})]}),"history"===y&&(0,i.jsxs)("div",{className:"card-mobile-friendly",children:[(0,i.jsxs)("h3",{className:"text-lg font-bold text-pink-800 mb-4 flex items-center gap-2",children:[(0,i.jsx)(h.Z,{size:20}),"受信履歴"]}),0===b.length?(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)(x.Z,{className:"w-16 h-16 text-pink-300 mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-pink-500",children:"受信履歴がありません"})]}):(0,i.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full flex items-center justify-center",children:(0,i.jsx)(x.Z,{className:"w-6 h-6 text-white"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,i.jsxs)("h4",{className:"font-semibold text-pink-800",children:[e.senderName,"から"]}),(0,i.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${T(e.status)}`,children:E(e.status)})]}),e.message&&(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.message}),(0,i.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[(0,i.jsx)("span",{children:L(e.createdAt)}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[I(e.method),(0,i.jsx)("span",{children:D(e.method)})]})]})]})]}),(0,i.jsx)("div",{className:"text-right",children:(0,i.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["+",e.amount.toLocaleString()," pt"]})})]},e.id))})]})]})]})}},1163:function(e,t,s){e.exports=s(2937)}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=4406)}),_N_E=e.O()}]);