(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6436],{4297:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(7294),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),r=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:o,...m},x)=>(0,a.createElement)("svg",{ref:x,...i,width:r,height:r,stroke:s,strokeWidth:c?24*Number(l)/Number(r):l,className:["lucide",`lucide-${n(e)}`,d].join(" "),...m},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s}},3219:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3742:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5077:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1267:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},6915:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},6383:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},7764:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2841:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},7307:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},1962:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},4933:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9525:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9359:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/points/send-points",function(){return s(9075)}])},9075:function(e,t,s){"use strict";s.r(t);var a=s(5893),i=s(7294),n=s(1163),r=s(3219),l=s(2841),c=s(1267),d=s(9525),o=s(6383),m=s(7307),x=s(1962),h=s(7764),u=s(4933),p=s(3742),f=s(6915),y=s(5077);t.default=()=>{let e=(0,n.useRouter)(),[t,s]=(0,i.useState)(8750),[b,g]=(0,i.useState)("friends"),[k,j]=(0,i.useState)([]),[N,v]=(0,i.useState)(null),[w,Z]=(0,i.useState)(""),[C,S]=(0,i.useState)(""),[M,z]=(0,i.useState)(""),[L,q]=(0,i.useState)(!1),[_,$]=(0,i.useState)(!1),[A,I]=(0,i.useState)([]),[E,R]=(0,i.useState)(""),[Q,F]=(0,i.useState)("");(0,i.useEffect)(()=>{j([{id:1,name:"田中 花子",email:"tanaka.hanako@example.com",status:"online",isBlocked:!1,mutualFriends:5},{id:2,name:"佐藤 太郎",email:"sato.taro@example.com",status:"offline",lastSeen:"2時間前",isBlocked:!1,mutualFriends:3},{id:3,name:"山田 美咲",email:"yamada.misaki@example.com",status:"online",isBlocked:!1,mutualFriends:8}]),I([{id:"tx-001",recipientId:1,recipientName:"田中 花子",amount:500,message:"ランチ代ありがとう！",status:"completed",createdAt:"2024-01-20T10:30:00Z"},{id:"tx-002",recipientId:2,recipientName:"佐藤 太郎",amount:300,message:"コーヒー代です",status:"completed",createdAt:"2024-01-19T15:45:00Z"}])},[]);let B=k.filter(e=>e.name.toLowerCase().includes(M.toLowerCase())||e.email.toLowerCase().includes(M.toLowerCase())),T=async()=>{if(!w||0>=parseInt(w)){alert("送信するポイント数を入力してください");return}if(parseInt(w)>t){alert("送信可能ポイント数を超えています");return}if("friends"===b&&!N){alert("送信先の友達を選択してください");return}if("email"===b&&!E){alert("送信先のメールアドレスを入力してください");return}if("phone"===b&&!Q){alert("送信先の電話番号を入力してください");return}$(!0);try{await new Promise(e=>setTimeout(e,2e3));let e={id:`tx-${Date.now()}`,recipientId:N?.id||0,recipientName:N?.name||E||Q,amount:parseInt(w),message:C,status:"completed",createdAt:new Date().toISOString()};I(t=>[e,...t]),s(e=>e-parseInt(w)),Z(""),S(""),v(null),R(""),F(""),alert("ポイントを送信しました！")}catch(e){console.error("Failed to send points:",e),alert("送信に失敗しました。もう一度お試しください。")}finally{$(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-rose-50 to-peach-50 dreamy-bg",children:[(0,a.jsx)("div",{className:"bg-white/95 backdrop-blur-sm shadow-soft border-b border-pink-100",children:(0,a.jsx)("div",{className:"header-responsive",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("button",{onClick:()=>e.back(),className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-pink-300 rounded-xl hover:bg-pink-50 hover:border-pink-400 transition-all duration-200 text-pink-600 font-semibold shadow-sm",children:[(0,a.jsx)(r.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Back"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-cutie font-bold gradient-text-soft",children:"ポイント送信"}),(0,a.jsx)("p",{className:"text-sm text-pink-600",children:"友達にポイントを送ろう"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-rose-500 rounded-5xl flex items-center justify-center floating-animation",children:(0,a.jsx)(l.Z,{className:"w-6 h-6 text-white"})})]})})}),(0,a.jsxs)("div",{className:"main-responsive section-spacing",children:[(0,a.jsxs)("div",{className:"card-mobile-friendly text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)(c.Z,{className:"w-6 h-6 text-yellow-500"}),(0,a.jsx)("h2",{className:"text-lg font-bold text-pink-800",children:"現在のポイント"})]}),(0,a.jsxs)("div",{className:"text-4xl font-cutie font-bold gradient-text-soft mb-2",children:[t.toLocaleString()," pt"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"送信可能ポイント"})]}),(0,a.jsxs)("div",{className:"card-mobile-friendly",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-pink-800 mb-4",children:"送信方法を選択"}),(0,a.jsx)("div",{className:"responsive-grid-2 gap-3",children:[{id:"friends",label:"友達",icon:d.Z,desc:"友達リストから選択"},{id:"qr",label:"QRコード",icon:o.Z,desc:"QRコードで送信"},{id:"email",label:"メール",icon:m.Z,desc:"メールアドレス"},{id:"phone",label:"電話",icon:x.Z,desc:"電話番号"}].map(({id:e,label:t,icon:s,desc:i})=>(0,a.jsxs)("button",{onClick:()=>g(e),className:`p-4 rounded-3xl border-2 transition-all text-center ${b===e?"border-pink-400 bg-pink-50":"border-gray-200 hover:border-pink-300"}`,children:[(0,a.jsx)(s,{size:24,className:"mx-auto mb-2 text-pink-600"}),(0,a.jsx)("div",{className:"font-semibold text-sm",children:t}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:i})]},e))})]}),"friends"===b&&(0,a.jsxs)("div",{className:"card-mobile-friendly",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-pink-800 mb-4",children:"友達を選択"}),(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)(h.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-pink-400",size:20}),(0,a.jsx)("input",{type:"text",value:M,onChange:e=>z(e.target.value),className:"form-input-responsive pl-12",placeholder:"友達の名前で検索..."})]}),(0,a.jsx)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:B.map(e=>(0,a.jsxs)("button",{onClick:()=>v(e),className:`w-full flex items-center gap-4 p-4 rounded-3xl transition-all ${N?.id===e.id?"bg-pink-100 border-2 border-pink-400":"bg-gray-50 hover:bg-pink-50 border-2 border-transparent"}`,children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-rose-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(u.Z,{size:20,className:"text-white"})}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsx)("div",{className:"font-semibold text-gray-800",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.email}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)("div",{className:`w-2 h-2 rounded-full ${"online"===e.status?"bg-green-400":"bg-gray-400"}`}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"online"===e.status?"オンライン":e.lastSeen})]})]}),N?.id===e.id&&(0,a.jsx)(p.Z,{className:"w-6 h-6 text-pink-600"})]},e.id))})]}),"email"===b&&(0,a.jsxs)("div",{className:"card-mobile-friendly",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-pink-800 mb-4",children:"メールアドレス"}),(0,a.jsx)("input",{type:"email",value:E,onChange:e=>R(e.target.value),className:"form-input-responsive",placeholder:"送信先のメールアドレス"})]}),"phone"===b&&(0,a.jsxs)("div",{className:"card-mobile-friendly",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-pink-800 mb-4",children:"電話番号"}),(0,a.jsx)("input",{type:"tel",value:Q,onChange:e=>F(e.target.value),className:"form-input-responsive",placeholder:"送信先の電話番号"})]}),"qr"===b&&(0,a.jsxs)("div",{className:"card-soft text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-pink-800 mb-4",children:"QRコード送信"}),L?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"w-48 h-48 bg-white border-4 border-pink-200 rounded-3xl flex items-center justify-center mx-auto mb-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(o.Z,{size:100,className:"text-pink-600 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"QRコード"})]})}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"このQRコードを相手に読み取ってもらってください"}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,a.jsxs)("button",{className:"btn-icon-responsive",children:[(0,a.jsx)(m.Z,{size:18,className:"mr-2"}),"シェア"]}),(0,a.jsxs)("button",{className:"btn-icon-responsive",children:[(0,a.jsx)(f.Z,{size:18,className:"mr-2"}),"コピー"]})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"w-32 h-32 bg-pink-100 rounded-3xl flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(o.Z,{size:60,className:"text-pink-400"})}),(0,a.jsx)("button",{onClick:()=>{q(!0)},className:"btn-responsive btn-primary",children:"QRコードを生成"})]})]}),("qr"!==b||L)&&(0,a.jsxs)("div",{className:"card-mobile-friendly",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-pink-800 mb-4",children:"送信内容"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-pink-800 mb-2",children:"送信ポイント"}),(0,a.jsx)("input",{type:"number",value:w,onChange:e=>Z(e.target.value),className:"form-input-responsive",placeholder:"送信するポイント数",min:"1",max:t}),(0,a.jsx)("div",{className:"mobile-stack gap-2 mt-3",children:[100,500,1e3,2e3].map(e=>(0,a.jsxs)("button",{onClick:()=>Z(e.toString()),className:"btn-icon-responsive text-sm py-2 px-4",children:[e," pt"]},e))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-pink-800 mb-2",children:"メッセージ（任意）"}),(0,a.jsx)("textarea",{value:C,onChange:e=>S(e.target.value),className:"form-input-responsive min-h-[80px] resize-none",placeholder:"送信と一緒にメッセージを送ることができます...",maxLength:200}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[C.length,"/200文字"]})]}),(0,a.jsx)("button",{onClick:T,disabled:_||!w,className:"w-full btn-primary text-lg py-4 disabled:opacity-50 disabled:cursor-not-allowed",children:_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"送信中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{size:20,className:"mr-2"}),w?`${parseInt(w).toLocaleString()} pt を送信`:"ポイントを送信"]})})]}),A.length>0&&(0,a.jsxs)("div",{className:"card-mobile-friendly",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-pink-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(y.Z,{size:20}),"最近の送信履歴"]}),(0,a.jsx)("div",{className:"space-y-3",children:A.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-pink-50 rounded-3xl",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-400 to-rose-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(u.Z,{size:16,className:"text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-semibold text-sm",children:e.recipientName}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:e.message}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleString("ja-JP")})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-bold text-pink-600",children:["-",e.amount.toLocaleString()," pt"]}),(0,a.jsx)("div",{className:`text-xs ${"completed"===e.status?"text-green-600":"pending"===e.status?"text-yellow-600":"text-red-600"}`,children:"completed"===e.status?"送信完了":"pending"===e.status?"送信中":"送信失敗"})]})]},e.id))})]})]})]})}},1163:function(e,t,s){e.exports=s(2937)}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=9359)}),_N_E=e.O()}]);