# ğŸ“Š Melty+ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ©ãƒ³ã‚¯åˆ¥æ©Ÿèƒ½åˆ¶é™è¨­è¨ˆæ›¸

**ä½œæˆæ—¥**: 2025å¹´11æœˆ7æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**ç›®çš„**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ©ãƒ³ã‚¯(Bronze/Silver/Gold/Platinum)ã«å¿œã˜ãŸæ©Ÿèƒ½åˆ¶é™ã®è¨­è¨ˆ

---

## ğŸ¯ æ¦‚è¦

### ãƒ©ãƒ³ã‚¯ä½“ç³»

| ãƒ©ãƒ³ã‚¯ | å–å¾—æ¡ä»¶ | åˆå›ãƒœãƒ¼ãƒŠã‚¹ | ç‰¹å¾´ |
|-------|---------|------------|------|
| **Bronze (ãƒ–ãƒ­ãƒ³ã‚º)** | Melty+ç›´æ¥ç™»éŒ² | 500pt | åŸºæœ¬æ©Ÿèƒ½ã®ã¿ |
| **Silver (ã‚·ãƒ«ãƒãƒ¼)** | MELTYé€£æºç™»éŒ² or ç´¯è¨ˆç²å¾—10,000pt | 1,000pt | å„ªé‡æ©Ÿèƒ½ã‚ã‚Š |
| **Gold (ã‚´ãƒ¼ãƒ«ãƒ‰)** | ç´¯è¨ˆç²å¾—50,000pt | - | å¤§å¹…ãªå„ªé‡ |
| **Platinum (ãƒ—ãƒ©ãƒãƒŠ)** | ç´¯è¨ˆç²å¾—100,000pt or VIPæ‹›å¾… | - | å…¨æ©Ÿèƒ½ç„¡åˆ¶é™ + VIPç‰¹å…¸ |

---

## ğŸ“± ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½ä¸€è¦§

### ğŸ  1. åŸºæœ¬æ©Ÿèƒ½ (å…¨ãƒ©ãƒ³ã‚¯å…±é€š)

| æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª | æ©Ÿèƒ½å | ç”»é¢/API | èª¬æ˜ | åˆ¶é™ |
|-----------|--------|---------|------|------|
| **èªè¨¼** | æ–°è¦ç™»éŒ² | `/user/register` | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ | ãªã— |
| | ãƒ­ã‚°ã‚¤ãƒ³ | `/user/login` | ãƒ­ã‚°ã‚¤ãƒ³ | ãªã— |
| | ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ | - | ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ | ãªã— |
| | ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«é–²è¦§ | `/user/profile` | è‡ªåˆ†ã®æƒ…å ±ç¢ºèª | ãªã— |
| | ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›† | `/user/profile/settings` | å€‹äººæƒ…å ±å¤‰æ›´ | ãªã— |

---

### ğŸ’° 2. ãƒã‚¤ãƒ³ãƒˆé–¢é€£æ©Ÿèƒ½

| æ©Ÿèƒ½å | ç”»é¢/API | ç¾åœ¨ã®ä»•æ§˜ | ãƒ©ãƒ³ã‚¯åˆ¶é™ |
|-------|---------|-----------|-----------|
| **ãƒã‚¤ãƒ³ãƒˆæ®‹é«˜ç¢ºèª** | `/user/points` | ãƒã‚¤ãƒ³ãƒˆæ®‹é«˜ãƒ»å±¥æ­´è¡¨ç¤º | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |
| **ãƒã‚¤ãƒ³ãƒˆç²å¾—å±¥æ­´** | `/user/points` | ç²å¾—ãƒ»æ¶ˆè²»å±¥æ­´ä¸€è¦§ | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |
| **åº—èˆ—æ¥åº—ãƒã‚¤ãƒ³ãƒˆç²å¾—** | QRã‚³ãƒ¼ãƒ‰èª­å– | æ¥åº—æ™‚ãƒã‚¤ãƒ³ãƒˆä»˜ä¸ | **é‚„å…ƒç‡å·®åˆ¥åŒ–**<br>Bronze: 1%<br>Silver: 3%<br>Gold: 5%<br>Platinum: 10% |
| **ECè³¼å…¥ç”³è«‹** | `/user/points/ec-request` | ãƒ¬ã‚·ãƒ¼ãƒˆç”³è«‹ã§ãƒã‚¤ãƒ³ãƒˆç²å¾— | **æœˆé–“å›æ•°åˆ¶é™**<br>Bronze: æœˆ3å›ã¾ã§<br>Silver: æœˆ10å›ã¾ã§<br>Gold/Platinum: ç„¡åˆ¶é™ |
| **ãƒã‚¤ãƒ³ãƒˆè³¼å…¥** | API: `/points/purchase/` | ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã§ãƒã‚¤ãƒ³ãƒˆè³¼å…¥ | **æœˆé–“ä¸Šé™é¡**<br>Bronze: æœˆ10,000ptã¾ã§<br>Silver: æœˆ50,000ptã¾ã§<br>Gold/Platinum: ç„¡åˆ¶é™ |

---

### ğŸ 3. ã‚®ãƒ•ãƒˆäº¤æ›æ©Ÿèƒ½

| æ©Ÿèƒ½å | ç”»é¢/API | ç¾åœ¨ã®ä»•æ§˜ | ãƒ©ãƒ³ã‚¯åˆ¶é™ |
|-------|---------|-----------|-----------|
| **ã‚®ãƒ•ãƒˆä¸€è¦§é–²è¦§** | `/user/gifts` | ãƒ‡ã‚¸ã‚¿ãƒ«ã‚®ãƒ•ãƒˆãƒ»å•†å“ä¸€è¦§ | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |
| **ã‚®ãƒ•ãƒˆæ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿** | `/user/gifts` | ã‚«ãƒ†ã‚´ãƒªãƒ»ä¾¡æ ¼å¸¯ã§æ¤œç´¢ | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |
| **ã‚®ãƒ•ãƒˆè©³ç´°é–²è¦§** | API: `/gifts/{id}/` | ã‚®ãƒ•ãƒˆè©³ç´°æƒ…å ± | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |
| **ãƒ‡ã‚¸ã‚¿ãƒ«ã‚®ãƒ•ãƒˆäº¤æ›** | API: `/gifts/exchange/` | Amazonã‚®ãƒ•ãƒˆåˆ¸ãƒ»é›»å­ãƒãƒãƒ¼ç­‰ | **æœˆé–“ãƒã‚¤ãƒ³ãƒˆä¸Šé™**<br>Bronze: æœˆ5,000ptã¾ã§<br>Silver: æœˆ20,000ptã¾ã§<br>Gold: æœˆ100,000ptã¾ã§<br>Platinum: ç„¡åˆ¶é™ |
| **ç‰©ç†å•†å“äº¤æ›** | API: `/gifts/exchange/` | é…é€ãŒå¿…è¦ãªå•†å“ | **æœˆé–“å›æ•°åˆ¶é™**<br>Bronze: æœˆ2å›ã¾ã§<br>Silver: æœˆ5å›ã¾ã§<br>Gold/Platinum: ç„¡åˆ¶é™ |
| **é«˜é¡ã‚®ãƒ•ãƒˆ(10,000ptä»¥ä¸Š)** | - | ãƒ—ãƒ¬ãƒŸã‚¢ãƒ å•†å“ | **ãƒ©ãƒ³ã‚¯åˆ¶é™**<br>Bronze: âŒ åˆ©ç”¨ä¸å¯<br>Silverä»¥ä¸Š: âœ… åˆ©ç”¨å¯èƒ½ |
| **é™å®šã‚®ãƒ•ãƒˆ** | - | æ•°é‡é™å®šãƒ»æœŸé–“é™å®šå•†å“ | **ãƒ©ãƒ³ã‚¯åˆ¶é™**<br>Bronze/Silver: âŒ åˆ©ç”¨ä¸å¯<br>Gold: ä¸€éƒ¨åˆ©ç”¨å¯èƒ½<br>Platinum: ã™ã¹ã¦åˆ©ç”¨å¯èƒ½ |
| **ã‚®ãƒ•ãƒˆäº¤æ›å±¥æ­´** | API: `/gifts/exchange-history/` | éå»ã®äº¤æ›å±¥æ­´ | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |

---

### ğŸ—ºï¸ 4. åº—èˆ—æ¤œç´¢ãƒ»ãŠæ°—ã«å…¥ã‚Šæ©Ÿèƒ½

| æ©Ÿèƒ½å | ç”»é¢/API | ç¾åœ¨ã®ä»•æ§˜ | ãƒ©ãƒ³ã‚¯åˆ¶é™ |
|-------|---------|-----------|-----------|
| **åº—èˆ—ãƒãƒƒãƒ—æ¤œç´¢** | `/user/map` | åœ°å›³ã§åŠ ç›Ÿåº—æ¤œç´¢ | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |
| **åº—èˆ—è©³ç´°é–²è¦§** | - | åº—èˆ—æƒ…å ±ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |
| **åº—èˆ—ãŠæ°—ã«å…¥ã‚Šç™»éŒ²** | `/user/favorites` | åº—èˆ—ã‚’ãŠæ°—ã«å…¥ã‚Š | **ç™»éŒ²æ•°åˆ¶é™**<br>Bronze: 10åº—èˆ—ã¾ã§<br>Silver: 50åº—èˆ—ã¾ã§<br>Gold/Platinum: ç„¡åˆ¶é™ |
| **ã‚®ãƒ•ãƒˆãŠæ°—ã«å…¥ã‚Šç™»éŒ²** | `/user/favorites` | ã‚®ãƒ•ãƒˆã‚’ãŠæ°—ã«å…¥ã‚Š | **ç™»éŒ²æ•°åˆ¶é™**<br>Bronze: 10ä»¶ã¾ã§<br>Silver: 50ä»¶ã¾ã§<br>Gold/Platinum: ç„¡åˆ¶é™ |

---

### ğŸ‘¥ 5. ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æ©Ÿèƒ½

| æ©Ÿèƒ½å | ç”»é¢/API | ç¾åœ¨ã®ä»•æ§˜ | ãƒ©ãƒ³ã‚¯åˆ¶é™ |
|-------|---------|-----------|-----------|
| **ãƒã‚¤æŠ•ç¨¿** | `/user/social` | è‡ªåˆ†ã®æŠ•ç¨¿ä¸€è¦§ | **æœˆé–“æŠ•ç¨¿æ•°åˆ¶é™**<br>Bronze: æœˆ10æŠ•ç¨¿ã¾ã§<br>Silver: æœˆ50æŠ•ç¨¿ã¾ã§<br>Gold/Platinum: ç„¡åˆ¶é™ |
| **ãƒ•ã‚£ãƒ¼ãƒ‰é–²è¦§** | `/user/social` | å‹é”ã®æŠ•ç¨¿é–²è¦§ | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |
| **å‹é”è¿½åŠ ** | `/user/social` | å‹é”ç”³è«‹ãƒ»æ‰¿èª | **å‹é”æ•°ä¸Šé™**<br>Bronze: 50äººã¾ã§<br>Silver: 200äººã¾ã§<br>Gold: 500äººã¾ã§<br>Platinum: ç„¡åˆ¶é™ |
| **æŠ•ç¨¿ã¸ã®ã„ã„ã­** | - | æŠ•ç¨¿ã«ã„ã„ã­ | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |
| **æŠ•ç¨¿ã¸ã®ã‚³ãƒ¡ãƒ³ãƒˆ** | - | æŠ•ç¨¿ã«ã‚³ãƒ¡ãƒ³ãƒˆ | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |
| **ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢** | `/user/social` | ä»–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |

---

### ğŸ” 6. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š

| æ©Ÿèƒ½å | ç”»é¢/API | ç¾åœ¨ã®ä»•æ§˜ | ãƒ©ãƒ³ã‚¯åˆ¶é™ |
|-------|---------|-----------|-----------|
| **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´** | `/user/security` | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ›´æ–° | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |
| **2æ®µéšèªè¨¼è¨­å®š** | API: `/auth/2fa/setup/` | TOTPè¨­å®š | **å¿…é ˆåŒ–**<br>Bronze/Silver: ä»»æ„<br>Gold/Platinum: å¿…é ˆ |
| **é€šçŸ¥è¨­å®š** | `/user/profile/settings` | ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ç®¡ç† | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |
| **ãƒ¡ãƒ¼ãƒ«è¨­å®š** | `/user/profile/settings` | ãƒ¡ãƒ«ãƒã‚¬è³¼èª­ç®¡ç† | **åˆ¶é™ãªã—** (å…¨ãƒ©ãƒ³ã‚¯) |

---

### ğŸ¯ 7. ç‰¹å…¸ãƒ»ãƒœãƒ¼ãƒŠã‚¹

| æ©Ÿèƒ½å | ç¾åœ¨ã®ä»•æ§˜ | ãƒ©ãƒ³ã‚¯åˆ¶é™ |
|-------|-----------|-----------|
| **æ–°è¦ç™»éŒ²ãƒœãƒ¼ãƒŠã‚¹** | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆæ™‚ | **ãƒ©ãƒ³ã‚¯å·®åˆ¥åŒ–**<br>Bronze (ç›´æ¥ç™»éŒ²): 500pt<br>Silver (MELTYé€£æº): 1,000pt |
| **èª•ç”Ÿæ—¥ãƒœãƒ¼ãƒŠã‚¹** | å¹´1å›è‡ªå‹•ä»˜ä¸ | **ãƒ©ãƒ³ã‚¯å·®åˆ¥åŒ–**<br>Bronze: 500pt<br>Silver: 1,000pt<br>Gold: 2,000pt<br>Platinum: 5,000pt |
| **ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹** | æ¯æ—¥ãƒ­ã‚°ã‚¤ãƒ³æ™‚ | **ãƒ©ãƒ³ã‚¯å·®åˆ¥åŒ–**<br>Bronze: ãªã—<br>Silver: 10pt/æ—¥<br>Gold: 30pt/æ—¥<br>Platinum: 100pt/æ—¥ |
| **ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å„ªå…ˆæ¡ˆå†…** | ãƒ¡ãƒ¼ãƒ«ãƒ»ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ | **ãƒ©ãƒ³ã‚¯åˆ¶é™**<br>Bronze: ãªã—<br>Silverä»¥ä¸Š: ã‚ã‚Š |
| **æ–°å•†å“å…ˆè¡Œã‚¢ã‚¯ã‚»ã‚¹** | æ–°ã‚®ãƒ•ãƒˆç™ºå£²å‰é€šçŸ¥ | **ãƒ©ãƒ³ã‚¯åˆ¶é™**<br>Platinumé™å®š |

---

## ğŸ’ ãƒ©ãƒ³ã‚¯åˆ¥ è©³ç´°ä»•æ§˜

### Bronze (ãƒ–ãƒ­ãƒ³ã‚º) - ç›´æ¥ç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼

**å–å¾—æ¡ä»¶:**
- Melty+ã§ç›´æ¥æ–°è¦ç™»éŒ²

**åˆå›ç‰¹å…¸:**
- ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒœãƒ¼ãƒŠã‚¹: 500pt

**åˆ©ç”¨å¯èƒ½æ©Ÿèƒ½:**
```
âœ… åŸºæœ¬æ©Ÿèƒ½ã™ã¹ã¦åˆ©ç”¨å¯èƒ½
âœ… ãƒã‚¤ãƒ³ãƒˆç²å¾—ãƒ»ç¢ºèª
âœ… ã‚®ãƒ•ãƒˆäº¤æ›(åˆ¶é™ä»˜ã)
âœ… åº—èˆ—æ¤œç´¢ãƒ»ãƒãƒƒãƒ—
âœ… ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æ©Ÿèƒ½(åˆ¶é™ä»˜ã)
```

**åˆ¶é™å†…å®¹:**
```
âš ï¸ ECè³¼å…¥ç”³è«‹: æœˆ3å›ã¾ã§
âš ï¸ ãƒ‡ã‚¸ã‚¿ãƒ«ã‚®ãƒ•ãƒˆäº¤æ›: æœˆ5,000ptã¾ã§
âš ï¸ ç‰©ç†å•†å“äº¤æ›: æœˆ2å›ã¾ã§
âš ï¸ ãŠæ°—ã«å…¥ã‚Šç™»éŒ²: 10ä»¶ã¾ã§
âš ï¸ å‹é”ç™»éŒ²: 50äººã¾ã§
âš ï¸ ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æŠ•ç¨¿: æœˆ10å›ã¾ã§
âš ï¸ ãƒã‚¤ãƒ³ãƒˆè³¼å…¥: æœˆ10,000ptã¾ã§
âš ï¸ æ¥åº—ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒç‡: 1%
âŒ é«˜é¡ã‚®ãƒ•ãƒˆ(10,000ptä»¥ä¸Š): åˆ©ç”¨ä¸å¯
âŒ é™å®šã‚®ãƒ•ãƒˆ: åˆ©ç”¨ä¸å¯
âŒ ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹: ãªã—
```

---

### Silver (ã‚·ãƒ«ãƒãƒ¼) - MELTYé€£æº or ä¸­ç´šãƒ¦ãƒ¼ã‚¶ãƒ¼

**å–å¾—æ¡ä»¶:**
- MELTYã‚¢ãƒ—ãƒªã¨é€£æºç™»éŒ² **ã¾ãŸã¯**
- ç´¯è¨ˆç²å¾—ãƒã‚¤ãƒ³ãƒˆ 10,000pt é”æˆ

**åˆå›ç‰¹å…¸:**
- ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒœãƒ¼ãƒŠã‚¹: 1,000pt (MELTYé€£æºæ™‚)

**åˆ©ç”¨å¯èƒ½æ©Ÿèƒ½:**
```
âœ… Bronzeæ©Ÿèƒ½ã™ã¹ã¦
âœ… é«˜é¡ã‚®ãƒ•ãƒˆ(10,000ptä»¥ä¸Š)
âœ… ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹
âœ… ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å„ªå…ˆæ¡ˆå†…
```

**å„ªé‡å†…å®¹:**
```
â­ ECè³¼å…¥ç”³è«‹: æœˆ10å›ã¾ã§ (Bronze: 3å›)
â­ ãƒ‡ã‚¸ã‚¿ãƒ«ã‚®ãƒ•ãƒˆäº¤æ›: æœˆ20,000ptã¾ã§ (Bronze: 5,000pt)
â­ ç‰©ç†å•†å“äº¤æ›: æœˆ5å›ã¾ã§ (Bronze: 2å›)
â­ ãŠæ°—ã«å…¥ã‚Šç™»éŒ²: 50ä»¶ã¾ã§ (Bronze: 10ä»¶)
â­ å‹é”ç™»éŒ²: 200äººã¾ã§ (Bronze: 50äºº)
â­ ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æŠ•ç¨¿: æœˆ50å›ã¾ã§ (Bronze: 10å›)
â­ ãƒã‚¤ãƒ³ãƒˆè³¼å…¥: æœˆ50,000ptã¾ã§ (Bronze: 10,000pt)
â­ æ¥åº—ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒç‡: 3% (Bronze: 1%)
â­ ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹: 10pt/æ—¥
â­ èª•ç”Ÿæ—¥ãƒœãƒ¼ãƒŠã‚¹: 1,000pt (Bronze: 500pt)
```

---

### Gold (ã‚´ãƒ¼ãƒ«ãƒ‰) - ä¸Šç´šãƒ¦ãƒ¼ã‚¶ãƒ¼

**å–å¾—æ¡ä»¶:**
- ç´¯è¨ˆç²å¾—ãƒã‚¤ãƒ³ãƒˆ 50,000pt é”æˆ

**åˆå›ç‰¹å…¸:**
- ãªã— (ãƒ©ãƒ³ã‚¯ã‚¢ãƒƒãƒ—é€šçŸ¥ã®ã¿)

**åˆ©ç”¨å¯èƒ½æ©Ÿèƒ½:**
```
âœ… Silveræ©Ÿèƒ½ã™ã¹ã¦
âœ… é™å®šã‚®ãƒ•ãƒˆä¸€éƒ¨ã‚¢ã‚¯ã‚»ã‚¹
âœ… 2æ®µéšèªè¨¼å¿…é ˆ
```

**å„ªé‡å†…å®¹:**
```
â­ ECè³¼å…¥ç”³è«‹: ç„¡åˆ¶é™ (Silver: 10å›)
â­ ãƒ‡ã‚¸ã‚¿ãƒ«ã‚®ãƒ•ãƒˆäº¤æ›: æœˆ100,000ptã¾ã§ (Silver: 20,000pt)
â­ ç‰©ç†å•†å“äº¤æ›: ç„¡åˆ¶é™ (Silver: 5å›)
â­ ãŠæ°—ã«å…¥ã‚Šç™»éŒ²: ç„¡åˆ¶é™ (Silver: 50ä»¶)
â­ å‹é”ç™»éŒ²: 500äººã¾ã§ (Silver: 200äºº)
â­ ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æŠ•ç¨¿: ç„¡åˆ¶é™ (Silver: 50å›)
â­ ãƒã‚¤ãƒ³ãƒˆè³¼å…¥: ç„¡åˆ¶é™ (Silver: 50,000pt)
â­ æ¥åº—ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒç‡: 5% (Silver: 3%)
â­ ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹: 30pt/æ—¥ (Silver: 10pt/æ—¥)
â­ èª•ç”Ÿæ—¥ãƒœãƒ¼ãƒŠã‚¹: 2,000pt (Silver: 1,000pt)
â­ é™å®šã‚®ãƒ•ãƒˆ: ä¸€éƒ¨åˆ©ç”¨å¯èƒ½
```

---

### Platinum (ãƒ—ãƒ©ãƒãƒŠ) - VIPãƒ¦ãƒ¼ã‚¶ãƒ¼

**å–å¾—æ¡ä»¶:**
- ç´¯è¨ˆç²å¾—ãƒã‚¤ãƒ³ãƒˆ 100,000pt é”æˆ **ã¾ãŸã¯**
- é‹å–¶ã‹ã‚‰ã®VIPæ‹›å¾…

**åˆå›ç‰¹å…¸:**
- ãªã— (VIPå°‚ç”¨ç‰¹å…¸ã‚ã‚Š)

**åˆ©ç”¨å¯èƒ½æ©Ÿèƒ½:**
```
âœ… ã™ã¹ã¦ã®æ©Ÿèƒ½ç„¡åˆ¶é™
âœ… é™å®šã‚®ãƒ•ãƒˆã™ã¹ã¦ã‚¢ã‚¯ã‚»ã‚¹
âœ… ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã‚µãƒãƒ¼ãƒˆ
âœ… æ–°å•†å“å…ˆè¡Œã‚¢ã‚¯ã‚»ã‚¹
```

**VIPç‰¹å…¸:**
```
â­ ã™ã¹ã¦ã®æ©Ÿèƒ½ç„¡åˆ¶é™
â­ ãƒ‡ã‚¸ã‚¿ãƒ«ã‚®ãƒ•ãƒˆäº¤æ›: ç„¡åˆ¶é™
â­ æ¥åº—ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒç‡: 10% (Gold: 5%)
â­ ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹: 100pt/æ—¥ (Gold: 30pt/æ—¥)
â­ èª•ç”Ÿæ—¥ãƒœãƒ¼ãƒŠã‚¹: 5,000pt (Gold: 2,000pt)
â­ é™å®šã‚®ãƒ•ãƒˆ: ã™ã¹ã¦åˆ©ç”¨å¯èƒ½
â­ å°‚ç”¨ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆ
â­ æ–°å•†å“å…ˆè¡Œã‚¢ã‚¯ã‚»ã‚¹
â­ ç‰¹åˆ¥ã‚¤ãƒ™ãƒ³ãƒˆæ‹›å¾…
â­ 2æ®µéšèªè¨¼å¿…é ˆ
```

---

## ğŸ”§ å®Ÿè£…è¦ä»¶

### 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å¤‰æ›´

#### User ãƒ¢ãƒ‡ãƒ«ã«è¿½åŠ ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

```python
# backend/core/models.py

class User(AbstractUser):
    # æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰...
    rank = models.CharField(max_length=20, choices=RANK_CHOICES, default='bronze')
    
    # ãƒ©ãƒ³ã‚¯åˆ¥åˆ¶é™ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ (æœˆæ¬¡ãƒªã‚»ãƒƒãƒˆ)
    ec_requests_count_this_month = models.IntegerField(
        default=0,
        verbose_name="ä»Šæœˆã®ECè³¼å…¥ç”³è«‹å›æ•°"
    )
    gift_exchanges_count_this_month = models.IntegerField(
        default=0,
        verbose_name="ä»Šæœˆã®ã‚®ãƒ•ãƒˆäº¤æ›å›æ•°"
    )
    digital_gift_points_this_month = models.IntegerField(
        default=0,
        verbose_name="ä»Šæœˆã®ãƒ‡ã‚¸ã‚¿ãƒ«ã‚®ãƒ•ãƒˆäº¤æ›ãƒã‚¤ãƒ³ãƒˆ"
    )
    social_posts_count_this_month = models.IntegerField(
        default=0,
        verbose_name="ä»Šæœˆã®ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æŠ•ç¨¿å›æ•°"
    )
    point_purchase_amount_this_month = models.IntegerField(
        default=0,
        verbose_name="ä»Šæœˆã®ãƒã‚¤ãƒ³ãƒˆè³¼å…¥é¡"
    )
    
    # ç´¯è¨ˆã‚«ã‚¦ãƒ³ã‚¿ãƒ¼
    favorite_stores_count = models.IntegerField(
        default=0,
        verbose_name="ãŠæ°—ã«å…¥ã‚Šåº—èˆ—æ•°"
    )
    favorite_gifts_count = models.IntegerField(
        default=0,
        verbose_name="ãŠæ°—ã«å…¥ã‚Šã‚®ãƒ•ãƒˆæ•°"
    )
    friends_count = models.IntegerField(
        default=0,
        verbose_name="å‹é”æ•°"
    )
    
    # ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãƒªã‚»ãƒƒãƒˆæ—¥æ™‚
    monthly_counters_reset_at = models.DateTimeField(
        null=True,
        blank=True,
        verbose_name="æœˆæ¬¡ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãƒªã‚»ãƒƒãƒˆæ—¥æ™‚"
    )
```

#### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ

```bash
cd backend
python manage.py makemigrations core -n add_rank_restriction_counters
python manage.py migrate
```

---

### 2. ãƒ©ãƒ³ã‚¯åˆ¶é™ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½

#### ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°

```python
# backend/core/rank_restrictions.py

from rest_framework.exceptions import PermissionDenied
from datetime import datetime
from django.utils import timezone

class RankRestrictions:
    """ãƒ©ãƒ³ã‚¯åˆ¥åˆ¶é™ãƒã‚§ãƒƒã‚¯"""
    
    # ECè³¼å…¥ç”³è«‹ã®æœˆé–“å›æ•°åˆ¶é™
    EC_REQUEST_LIMITS = {
        'bronze': 3,
        'silver': 10,
        'gold': None,  # ç„¡åˆ¶é™
        'platinum': None
    }
    
    # ãƒ‡ã‚¸ã‚¿ãƒ«ã‚®ãƒ•ãƒˆäº¤æ›ã®æœˆé–“ãƒã‚¤ãƒ³ãƒˆä¸Šé™
    DIGITAL_GIFT_LIMITS = {
        'bronze': 5000,
        'silver': 20000,
        'gold': 100000,
        'platinum': None  # ç„¡åˆ¶é™
    }
    
    # ç‰©ç†å•†å“äº¤æ›ã®æœˆé–“å›æ•°åˆ¶é™
    PHYSICAL_GIFT_LIMITS = {
        'bronze': 2,
        'silver': 5,
        'gold': None,
        'platinum': None
    }
    
    # ãŠæ°—ã«å…¥ã‚Šç™»éŒ²æ•°ä¸Šé™
    FAVORITE_LIMITS = {
        'bronze': 10,
        'silver': 50,
        'gold': None,
        'platinum': None
    }
    
    # å‹é”æ•°ä¸Šé™
    FRIEND_LIMITS = {
        'bronze': 50,
        'silver': 200,
        'gold': 500,
        'platinum': None
    }
    
    # ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æŠ•ç¨¿ã®æœˆé–“å›æ•°åˆ¶é™
    SOCIAL_POST_LIMITS = {
        'bronze': 10,
        'silver': 50,
        'gold': None,
        'platinum': None
    }
    
    # ãƒã‚¤ãƒ³ãƒˆè³¼å…¥ã®æœˆé–“ä¸Šé™
    POINT_PURCHASE_LIMITS = {
        'bronze': 10000,
        'silver': 50000,
        'gold': None,
        'platinum': None
    }
    
    # æ¥åº—ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒç‡
    VISIT_POINT_RATES = {
        'bronze': 0.01,  # 1%
        'silver': 0.03,  # 3%
        'gold': 0.05,    # 5%
        'platinum': 0.10 # 10%
    }
    
    @classmethod
    def check_ec_request_limit(cls, user):
        """ECè³¼å…¥ç”³è«‹ã®åˆ¶é™ãƒã‚§ãƒƒã‚¯"""
        cls._reset_monthly_counters_if_needed(user)
        
        limit = cls.EC_REQUEST_LIMITS.get(user.rank)
        if limit is None:
            return True  # ç„¡åˆ¶é™
        
        if user.ec_requests_count_this_month >= limit:
            raise PermissionDenied(
                f"ECè³¼å…¥ç”³è«‹ã¯æœˆ{limit}å›ã¾ã§ã§ã™ã€‚"
                f"Silverãƒ©ãƒ³ã‚¯ä»¥ä¸Šã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹ã¨åˆ¶é™ãŒç·©å’Œã•ã‚Œã¾ã™ã€‚"
            )
        return True
    
    @classmethod
    def check_digital_gift_limit(cls, user, points_to_exchange):
        """ãƒ‡ã‚¸ã‚¿ãƒ«ã‚®ãƒ•ãƒˆäº¤æ›ã®åˆ¶é™ãƒã‚§ãƒƒã‚¯"""
        cls._reset_monthly_counters_if_needed(user)
        
        limit = cls.DIGITAL_GIFT_LIMITS.get(user.rank)
        if limit is None:
            return True  # ç„¡åˆ¶é™
        
        new_total = user.digital_gift_points_this_month + points_to_exchange
        if new_total > limit:
            raise PermissionDenied(
                f"ãƒ‡ã‚¸ã‚¿ãƒ«ã‚®ãƒ•ãƒˆäº¤æ›ã¯æœˆ{limit:,}ptã¾ã§ã§ã™ã€‚"
                f"ä»Šæœˆã®æ®‹ã‚Š: {limit - user.digital_gift_points_this_month:,}pt"
            )
        return True
    
    @classmethod
    def check_physical_gift_limit(cls, user):
        """ç‰©ç†å•†å“äº¤æ›ã®åˆ¶é™ãƒã‚§ãƒƒã‚¯"""
        cls._reset_monthly_counters_if_needed(user)
        
        limit = cls.PHYSICAL_GIFT_LIMITS.get(user.rank)
        if limit is None:
            return True  # ç„¡åˆ¶é™
        
        if user.gift_exchanges_count_this_month >= limit:
            raise PermissionDenied(
                f"ç‰©ç†å•†å“äº¤æ›ã¯æœˆ{limit}å›ã¾ã§ã§ã™ã€‚"
                f"Silverãƒ©ãƒ³ã‚¯ä»¥ä¸Šã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹ã¨åˆ¶é™ãŒç·©å’Œã•ã‚Œã¾ã™ã€‚"
            )
        return True
    
    @classmethod
    def check_high_value_gift_access(cls, user, gift_points):
        """é«˜é¡ã‚®ãƒ•ãƒˆã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãƒã‚§ãƒƒã‚¯"""
        if gift_points >= 10000 and user.rank == 'bronze':
            raise PermissionDenied(
                "10,000ptä»¥ä¸Šã®é«˜é¡ã‚®ãƒ•ãƒˆã¯Silverãƒ©ãƒ³ã‚¯ä»¥ä¸Šã§äº¤æ›ã§ãã¾ã™ã€‚"
            )
        return True
    
    @classmethod
    def check_favorite_limit(cls, user):
        """ãŠæ°—ã«å…¥ã‚Šç™»éŒ²æ•°åˆ¶é™ãƒã‚§ãƒƒã‚¯"""
        limit = cls.FAVORITE_LIMITS.get(user.rank)
        if limit is None:
            return True  # ç„¡åˆ¶é™
        
        total_favorites = user.favorite_stores_count + user.favorite_gifts_count
        if total_favorites >= limit:
            raise PermissionDenied(
                f"ãŠæ°—ã«å…¥ã‚Šç™»éŒ²ã¯{limit}ä»¶ã¾ã§ã§ã™ã€‚"
            )
        return True
    
    @classmethod
    def check_friend_limit(cls, user):
        """å‹é”æ•°åˆ¶é™ãƒã‚§ãƒƒã‚¯"""
        limit = cls.FRIEND_LIMITS.get(user.rank)
        if limit is None:
            return True  # ç„¡åˆ¶é™
        
        if user.friends_count >= limit:
            raise PermissionDenied(
                f"å‹é”ç™»éŒ²ã¯{limit}äººã¾ã§ã§ã™ã€‚"
                f"ãƒ©ãƒ³ã‚¯ã‚¢ãƒƒãƒ—ã™ã‚‹ã¨åˆ¶é™ãŒç·©å’Œã•ã‚Œã¾ã™ã€‚"
            )
        return True
    
    @classmethod
    def check_social_post_limit(cls, user):
        """ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æŠ•ç¨¿åˆ¶é™ãƒã‚§ãƒƒã‚¯"""
        cls._reset_monthly_counters_if_needed(user)
        
        limit = cls.SOCIAL_POST_LIMITS.get(user.rank)
        if limit is None:
            return True  # ç„¡åˆ¶é™
        
        if user.social_posts_count_this_month >= limit:
            raise PermissionDenied(
                f"ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æŠ•ç¨¿ã¯æœˆ{limit}å›ã¾ã§ã§ã™ã€‚"
            )
        return True
    
    @classmethod
    def check_point_purchase_limit(cls, user, points_to_purchase):
        """ãƒã‚¤ãƒ³ãƒˆè³¼å…¥åˆ¶é™ãƒã‚§ãƒƒã‚¯"""
        cls._reset_monthly_counters_if_needed(user)
        
        limit = cls.POINT_PURCHASE_LIMITS.get(user.rank)
        if limit is None:
            return True  # ç„¡åˆ¶é™
        
        new_total = user.point_purchase_amount_this_month + points_to_purchase
        if new_total > limit:
            raise PermissionDenied(
                f"ãƒã‚¤ãƒ³ãƒˆè³¼å…¥ã¯æœˆ{limit:,}ptã¾ã§ã§ã™ã€‚"
                f"ä»Šæœˆã®æ®‹ã‚Š: {limit - user.point_purchase_amount_this_month:,}pt"
            )
        return True
    
    @classmethod
    def get_visit_point_rate(cls, user):
        """æ¥åº—ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒç‡å–å¾—"""
        return cls.VISIT_POINT_RATES.get(user.rank, 0.01)
    
    @classmethod
    def _reset_monthly_counters_if_needed(cls, user):
        """æœˆæ¬¡ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®ãƒªã‚»ãƒƒãƒˆãƒã‚§ãƒƒã‚¯"""
        now = timezone.now()
        
        # åˆå› or æœˆãŒå¤‰ã‚ã£ãŸå ´åˆ
        if (user.monthly_counters_reset_at is None or 
            user.monthly_counters_reset_at.month != now.month):
            
            user.ec_requests_count_this_month = 0
            user.gift_exchanges_count_this_month = 0
            user.digital_gift_points_this_month = 0
            user.social_posts_count_this_month = 0
            user.point_purchase_amount_this_month = 0
            user.monthly_counters_reset_at = now
            user.save(update_fields=[
                'ec_requests_count_this_month',
                'gift_exchanges_count_this_month',
                'digital_gift_points_this_month',
                'social_posts_count_this_month',
                'point_purchase_amount_this_month',
                'monthly_counters_reset_at'
            ])
    
    @classmethod
    def get_user_limits_info(cls, user):
        """ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åˆ¶é™æƒ…å ±ã‚’å–å¾—"""
        cls._reset_monthly_counters_if_needed(user)
        
        return {
            'rank': user.rank,
            'ec_requests': {
                'limit': cls.EC_REQUEST_LIMITS.get(user.rank),
                'used': user.ec_requests_count_this_month,
                'remaining': (cls.EC_REQUEST_LIMITS.get(user.rank) - user.ec_requests_count_this_month) 
                            if cls.EC_REQUEST_LIMITS.get(user.rank) else None
            },
            'digital_gifts': {
                'limit': cls.DIGITAL_GIFT_LIMITS.get(user.rank),
                'used': user.digital_gift_points_this_month,
                'remaining': (cls.DIGITAL_GIFT_LIMITS.get(user.rank) - user.digital_gift_points_this_month)
                            if cls.DIGITAL_GIFT_LIMITS.get(user.rank) else None
            },
            'physical_gifts': {
                'limit': cls.PHYSICAL_GIFT_LIMITS.get(user.rank),
                'used': user.gift_exchanges_count_this_month,
                'remaining': (cls.PHYSICAL_GIFT_LIMITS.get(user.rank) - user.gift_exchanges_count_this_month)
                            if cls.PHYSICAL_GIFT_LIMITS.get(user.rank) else None
            },
            'favorites': {
                'limit': cls.FAVORITE_LIMITS.get(user.rank),
                'used': user.favorite_stores_count + user.favorite_gifts_count
            },
            'friends': {
                'limit': cls.FRIEND_LIMITS.get(user.rank),
                'used': user.friends_count
            },
            'social_posts': {
                'limit': cls.SOCIAL_POST_LIMITS.get(user.rank),
                'used': user.social_posts_count_this_month,
                'remaining': (cls.SOCIAL_POST_LIMITS.get(user.rank) - user.social_posts_count_this_month)
                            if cls.SOCIAL_POST_LIMITS.get(user.rank) else None
            },
            'point_purchase': {
                'limit': cls.POINT_PURCHASE_LIMITS.get(user.rank),
                'used': user.point_purchase_amount_this_month,
                'remaining': (cls.POINT_PURCHASE_LIMITS.get(user.rank) - user.point_purchase_amount_this_month)
                            if cls.POINT_PURCHASE_LIMITS.get(user.rank) else None
            },
            'visit_point_rate': cls.VISIT_POINT_RATES.get(user.rank)
        }
```

---

### 3. APIå®Ÿè£…ä¾‹

#### ECè³¼å…¥ç”³è«‹API

```python
# backend/core/ec_point_views.py

from .rank_restrictions import RankRestrictions

class ECReceiptUploadView(APIView):
    permission_classes = [IsAuthenticated]
    
    def post(self, request):
        user = request.user
        
        # ãƒ©ãƒ³ã‚¯åˆ¶é™ãƒã‚§ãƒƒã‚¯
        try:
            RankRestrictions.check_ec_request_limit(user)
        except PermissionDenied as e:
            return Response({
                'success': False,
                'error': str(e),
                'rank': user.rank,
                'upgrade_message': 'Silverãƒ©ãƒ³ã‚¯ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹ã¨æœˆ10å›ã¾ã§ç”³è«‹ã§ãã¾ã™'
            }, status=status.HTTP_403_FORBIDDEN)
        
        # ECç”³è«‹å‡¦ç†...
        
        # ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å¢—åŠ 
        user.ec_requests_count_this_month += 1
        user.save(update_fields=['ec_requests_count_this_month'])
        
        return Response({'success': True})
```

#### ã‚®ãƒ•ãƒˆäº¤æ›API

```python
# backend/core/views.py

class GiftExchangeView(APIView):
    permission_classes = [IsAuthenticated]
    
    def post(self, request):
        user = request.user
        gift_id = request.data.get('gift_id')
        
        try:
            gift = Gift.objects.get(id=gift_id)
        except Gift.DoesNotExist:
            return Response({'error': 'ã‚®ãƒ•ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“'}, 
                          status=status.HTTP_404_NOT_FOUND)
        
        # é«˜é¡ã‚®ãƒ•ãƒˆã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãƒã‚§ãƒƒã‚¯
        try:
            RankRestrictions.check_high_value_gift_access(user, gift.points_required)
        except PermissionDenied as e:
            return Response({
                'error': str(e),
                'required_rank': 'silver'
            }, status=status.HTTP_403_FORBIDDEN)
        
        # ã‚®ãƒ•ãƒˆã‚¿ã‚¤ãƒ—åˆ¥ã®åˆ¶é™ãƒã‚§ãƒƒã‚¯
        if gift.gift_type == 'digital':
            try:
                RankRestrictions.check_digital_gift_limit(user, gift.points_required)
            except PermissionDenied as e:
                return Response({'error': str(e)}, status=status.HTTP_403_FORBIDDEN)
        elif gift.gift_type == 'physical':
            try:
                RankRestrictions.check_physical_gift_limit(user)
            except PermissionDenied as e:
                return Response({'error': str(e)}, status=status.HTTP_403_FORBIDDEN)
        
        # ã‚®ãƒ•ãƒˆäº¤æ›å‡¦ç†...
        
        # ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼æ›´æ–°
        if gift.gift_type == 'digital':
            user.digital_gift_points_this_month += gift.points_required
        if gift.gift_type == 'physical':
            user.gift_exchanges_count_this_month += 1
        user.save()
        
        return Response({'success': True})
```

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¶é™æƒ…å ±å–å¾—API

```python
# backend/core/views.py

class UserLimitsView(APIView):
    """ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ©ãƒ³ã‚¯åˆ¥åˆ¶é™æƒ…å ±ã‚’å–å¾—"""
    permission_classes = [IsAuthenticated]
    
    def get(self, request):
        user = request.user
        limits_info = RankRestrictions.get_user_limits_info(user)
        
        return Response({
            'success': True,
            'limits': limits_info
        })
```

---

### 4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…ä¾‹

#### ãƒ©ãƒ³ã‚¯åˆ¥åˆ¶é™è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// components/user/RankRestrictionBanner.tsx

interface RankRestrictionBannerProps {
  userRank: 'bronze' | 'silver' | 'gold' | 'platinum'
  feature: string
  currentUsage: number
  limit: number | null
  upgradeMessage?: string
}

export function RankRestrictionBanner({
  userRank,
  feature,
  currentUsage,
  limit,
  upgradeMessage
}: RankRestrictionBannerProps) {
  if (limit === null) {
    // ç„¡åˆ¶é™ã®å ´åˆã¯è¡¨ç¤ºã—ãªã„
    return null
  }
  
  const percentage = (currentUsage / limit) * 100
  const isNearLimit = percentage >= 80
  const isAtLimit = currentUsage >= limit
  
  return (
    <div className={`rounded-lg p-3 mb-4 ${
      isAtLimit ? 'bg-red-50 border border-red-200' :
      isNearLimit ? 'bg-yellow-50 border border-yellow-200' :
      'bg-blue-50 border border-blue-200'
    }`}>
      <div className="flex items-start justify-between">
        <div className="flex-1">
          <p className={`text-sm font-medium ${
            isAtLimit ? 'text-red-800' :
            isNearLimit ? 'text-yellow-800' :
            'text-blue-800'
          }`}>
            {feature}ã®åˆ©ç”¨çŠ¶æ³
          </p>
          <p className={`text-xs mt-1 ${
            isAtLimit ? 'text-red-600' :
            isNearLimit ? 'text-yellow-600' :
            'text-blue-600'
          }`}>
            {currentUsage} / {limit} å›
          </p>
          
          {/* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */}
          <div className="w-full bg-gray-200 rounded-full h-2 mt-2">
            <div 
              className={`h-2 rounded-full ${
                isAtLimit ? 'bg-red-500' :
                isNearLimit ? 'bg-yellow-500' :
                'bg-blue-500'
              }`}
              style={{ width: `${Math.min(percentage, 100)}%` }}
            />
          </div>
          
          {isAtLimit && upgradeMessage && (
            <p className="text-xs text-red-600 mt-2">
              ğŸ’ {upgradeMessage}
            </p>
          )}
        </div>
      </div>
    </div>
  )
}
```

#### ECç”³è«‹ãƒšãƒ¼ã‚¸ã§ã®ä½¿ç”¨ä¾‹

```tsx
// pages/user/points/ec-request.tsx

export default function ECRequestPage() {
  const [limits, setLimits] = useState(null)
  
  useEffect(() => {
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åˆ¶é™æƒ…å ±ã‚’å–å¾—
    fetch(`${getApiUrl()}/user/limits/`, {
      headers: {
        'Authorization': `Bearer ${token}`
      }
    })
    .then(res => res.json())
    .then(data => setLimits(data.limits))
  }, [])
  
  return (
    <UserLayout>
      <div className="p-4">
        <h1>ECè³¼å…¥ãƒã‚¤ãƒ³ãƒˆç”³è«‹</h1>
        
        {limits && (
          <RankRestrictionBanner
            userRank={limits.rank}
            feature="ECè³¼å…¥ç”³è«‹"
            currentUsage={limits.ec_requests.used}
            limit={limits.ec_requests.limit}
            upgradeMessage="Silverãƒ©ãƒ³ã‚¯ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹ã¨æœˆ10å›ã¾ã§ç”³è«‹ã§ãã¾ã™"
          />
        )}
        
        {/* ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ  */}
      </div>
    </UserLayout>
  )
}
```

---

## ğŸ“Š ç®¡ç†ç”»é¢ã§ã®ç¢ºèª

### ãƒ©ãƒ³ã‚¯åˆ¥çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

ç®¡ç†ç”»é¢ã§å„ãƒ©ãƒ³ã‚¯ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ã‚„åˆ©ç”¨çŠ¶æ³ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹:

```python
# backend/core/admin.py

@admin.register(User)
class UserAdmin(admin.ModelAdmin):
    list_display = [
        'username', 'email', 'rank', 'point_balance',
        'ec_requests_count_this_month', 'total_earned_points'
    ]
    list_filter = ['rank', 'registration_source']
    search_fields = ['username', 'email', 'member_id']
    
    fieldsets = (
        ('åŸºæœ¬æƒ…å ±', {
            'fields': ('username', 'email', 'first_name', 'last_name', 'rank')
        }),
        ('ãƒã‚¤ãƒ³ãƒˆæƒ…å ±', {
            'fields': ('point_balance', 'total_earned_points', 'total_used_points')
        }),
        ('æœˆæ¬¡åˆ¶é™ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼', {
            'fields': (
                'ec_requests_count_this_month',
                'gift_exchanges_count_this_month',
                'digital_gift_points_this_month',
                'social_posts_count_this_month',
                'monthly_counters_reset_at'
            )
        }),
        ('ç´¯è¨ˆã‚«ã‚¦ãƒ³ã‚¿ãƒ¼', {
            'fields': ('favorite_stores_count', 'favorite_gifts_count', 'friends_count')
        }),
    )
```

---

## ğŸ¯ ãƒ†ã‚¹ãƒˆè¨ˆç”»

### å˜ä½“ãƒ†ã‚¹ãƒˆ

```python
# backend/core/tests/test_rank_restrictions.py

from django.test import TestCase
from core.models import User
from core.rank_restrictions import RankRestrictions
from rest_framework.exceptions import PermissionDenied

class RankRestrictionsTestCase(TestCase):
    
    def setUp(self):
        self.bronze_user = User.objects.create_user(
            username='bronze_user',
            email='bronze@test.com',
            rank='bronze'
        )
        self.silver_user = User.objects.create_user(
            username='silver_user',
            email='silver@test.com',
            rank='silver'
        )
    
    def test_bronze_ec_request_limit(self):
        """Bronzeãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æœˆ3å›ã¾ã§ECç”³è«‹å¯èƒ½"""
        user = self.bronze_user
        
        # 3å›ã¾ã§ã¯OK
        for i in range(3):
            RankRestrictions.check_ec_request_limit(user)
            user.ec_requests_count_this_month += 1
            user.save()
        
        # 4å›ç›®ã¯ã‚¨ãƒ©ãƒ¼
        with self.assertRaises(PermissionDenied):
            RankRestrictions.check_ec_request_limit(user)
    
    def test_silver_ec_request_limit(self):
        """Silverãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ECç”³è«‹ãŒ10å›ã¾ã§å¯èƒ½"""
        user = self.silver_user
        
        # 10å›ã¾ã§ã¯OK
        for i in range(10):
            RankRestrictions.check_ec_request_limit(user)
            user.ec_requests_count_this_month += 1
            user.save()
        
        # 11å›ç›®ã¯ã‚¨ãƒ©ãƒ¼
        with self.assertRaises(PermissionDenied):
            RankRestrictions.check_ec_request_limit(user)
    
    def test_high_value_gift_restriction(self):
        """Bronzeãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯10,000ptä»¥ä¸Šã®ã‚®ãƒ•ãƒˆäº¤æ›ä¸å¯"""
        bronze_user = self.bronze_user
        silver_user = self.silver_user
        
        # Bronzeã¯ã‚¨ãƒ©ãƒ¼
        with self.assertRaises(PermissionDenied):
            RankRestrictions.check_high_value_gift_access(bronze_user, 10000)
        
        # Silverã¯ OK
        RankRestrictions.check_high_value_gift_access(silver_user, 10000)
```

---

## ğŸ“ å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ | æ‹…å½“è€… |
|------|----------|---------|--------|
| 2025-11-07 | 1.0 | åˆç‰ˆä½œæˆ | Melty+é–‹ç™ºãƒãƒ¼ãƒ  |

---

## ğŸš€ ä»Šå¾Œã®æ‹¡å¼µæ¡ˆ

1. **ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãƒ©ãƒ³ã‚¯ã‚¢ãƒƒãƒ—é€šçŸ¥**
   - ç´¯è¨ˆãƒã‚¤ãƒ³ãƒˆãŒé–¾å€¤åˆ°é”æ™‚ã«è‡ªå‹•ãƒ©ãƒ³ã‚¯ã‚¢ãƒƒãƒ— + é€šçŸ¥

2. **æœŸé–“é™å®šãƒ©ãƒ³ã‚¯ãƒœãƒ¼ãƒŠã‚¹**
   - ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æœŸé–“ä¸­ã®ãƒ©ãƒ³ã‚¯åˆ¥ç‰¹å…¸

3. **ãƒ©ãƒ³ã‚¯ãƒ€ã‚¦ãƒ³æ©Ÿèƒ½**
   - é•·æœŸé–“æœªåˆ©ç”¨ã§ãƒ©ãƒ³ã‚¯ãƒ€ã‚¦ãƒ³ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)

4. **ã‚«ã‚¹ã‚¿ãƒ ãƒ©ãƒ³ã‚¯**
   - ä¼æ¥­å‘ã‘ç‰¹åˆ¥ãƒ©ãƒ³ã‚¯ã®è¿½åŠ 

5. **ãƒ©ãƒ³ã‚¯åˆ¥UI/UX**
   - ãƒ©ãƒ³ã‚¯ã”ã¨ã«ç”»é¢ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒã‚’å¤‰æ›´
