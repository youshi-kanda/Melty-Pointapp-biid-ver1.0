(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2133],{2967:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/reports",function(){return t(8158)}])},6909:function(e,s,t){"use strict";t.d(s,{Z:function(){return N}});var a=t(5893),l=t(1163),r=t(1664),i=t.n(r),n=t(8979),d=t(9176),c=t(116),x=t(3750),o=t(9073),m=t(3633),h=t(5264),g=t(9305),b=t(2190),j=t(8497),u=t(3416),f=t(775),p=t(7294);function N(e){let{currentPage:s}=e,t=(0,l.useRouter)(),[r,N]=(0,p.useState)(!1),v=[{icon:n.Z,label:"ダッシュボード",href:"/admin",id:"dashboard"},{icon:d.Z,label:"ユーザー管理",href:"/admin/users",id:"users"},{icon:c.Z,label:"店舗管理",href:"/admin/stores",id:"stores"},{icon:x.Z,label:"取引管理",href:"/admin/transactions",id:"transactions"},{icon:o.Z,label:"ギフト管理",href:"/admin/gifts",id:"gifts"},{icon:m.Z,label:"レポート",href:"/admin/reports",id:"reports"},{icon:h.Z,label:"システム設定",href:"/admin/settings",id:"settings"},{icon:g.Z,label:"機能管理",href:"/admin/features",id:"features"}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>N(!r),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-lg",children:r?(0,a.jsx)(b.Z,{size:24}):(0,a.jsx)(j.Z,{size:24})}),r&&(0,a.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>N(!1)}),(0,a.jsxs)("aside",{className:"\n          fixed top-0 left-0 h-full w-64 bg-slate-800 text-slate-300 shadow-2xl z-40 transform transition-transform duration-300\n          ".concat(r?"translate-x-0":"-translate-x-full","\n          lg:translate-x-0\n        "),children:[(0,a.jsx)("div",{className:"p-5 border-b border-slate-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u.Z,{className:"w-10 h-10 text-white flex-shrink-0",strokeWidth:1.5}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-white whitespace-nowrap",children:"Melty+ 管理画面"}),(0,a.jsx)("p",{className:"text-slate-400 text-xs",children:"Admin Dashboard"})]})]})}),(0,a.jsx)("nav",{className:"p-3 space-y-1 overflow-y-auto h-[calc(100vh-165px)]",children:v.map(e=>{let l=e.icon,r=s===e.id||t.pathname===e.href;return(0,a.jsxs)(i(),{href:e.href,className:"\n                  flex items-center gap-2.5 px-3 py-2.5 rounded-lg transition-all\n                  ".concat(r?"bg-slate-700 text-white shadow-sm":"text-slate-300 hover:bg-slate-700/50","\n                "),onClick:()=>N(!1),children:[(0,a.jsx)(l,{size:18}),(0,a.jsx)("span",{className:"font-medium text-sm",children:e.label})]},e.id)})}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-3 border-t border-slate-700 bg-slate-900",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,a.jsx)("div",{className:"w-9 h-9 bg-slate-700 rounded-full flex items-center justify-center",children:(0,a.jsx)(d.Z,{size:18,className:"text-slate-300"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:"運営"}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"admin@example.com"})]})]}),(0,a.jsx)("button",{onClick:()=>{console.log("ログアウト"),t.push("/admin/login")},className:"p-1.5 hover:bg-slate-700 rounded-lg transition-all",title:"ログアウト",children:(0,a.jsx)(f.Z,{size:18,className:"text-slate-300"})})]})})]})]})}},8158:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return z}});var a=t(5893),l=t(7294),r=t(1163),i=t(9008),n=t.n(i),d=t(6909),c=t(8497),x=t(7918),o=t(8267),m=t(775),h=t(4976),g=t(2779),b=t(3322),j=t(2553),u=t(3633),f=t(116),p=t(9176),N=t(9073),v=t(4235),y=t(437),w=t(2895),Z=t(3050);function z(){let e=(0,r.useRouter)(),[s,t]=(0,l.useState)("overview"),[i,z]=(0,l.useState)(!1),[S,k]=(0,l.useState)("30days"),[C,R]=(0,l.useState)(!1),_={totalRevenue:47856320,revenueChange:12.3,totalTransactions:89234,averageTransaction:3021,activeUsers:12456,totalUsers:15847,activeStores:198,totalStores:234,pointsIssued:15234567,pointsUsed:8456789,pointsUsageRate:55.5,retentionRate:78.5,conversionRate:12.8,growthRate:15.3,uptime:99.8,paymentSuccess:98.7,apiResponseTime:245};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{children:(0,a.jsx)("title",{children:"レポート・分析 - BIID Admin"})}),(0,a.jsxs)("div",{className:"flex min-h-screen bg-white",children:[(0,a.jsx)(d.Z,{currentPage:"reports"}),(0,a.jsxs)("main",{className:"flex-1 md:ml-64",children:[(0,a.jsx)("div",{className:"bg-white border-b border-slate-200 px-4 py-3 h-14 sticky top-0 z-30 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("button",{className:"lg:hidden p-1.5 hover:bg-slate-100 rounded-lg",children:(0,a.jsx)(c.Z,{size:20})}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("button",{className:"p-1.5 hover:bg-slate-100 rounded-lg relative",children:[(0,a.jsx)(x.Z,{size:18}),(0,a.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>R(!C),className:"flex items-center gap-2 p-1.5 hover:bg-slate-100 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-slate-200 rounded-full flex items-center justify-center",children:(0,a.jsx)(o.Z,{size:16,className:"text-slate-600"})}),(0,a.jsxs)("div",{className:"hidden md:block text-left",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-900",children:"管理者"}),(0,a.jsx)("div",{className:"text-xs text-slate-500",children:"admin@biid.jp"})]})]}),C&&(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 py-2 z-50",children:(0,a.jsxs)("button",{onClick:()=>e.push("/admin/login"),className:"w-full px-4 py-2 text-left text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[(0,a.jsx)(m.Z,{size:16}),"ログアウト"]})})]})]})]})}),(0,a.jsxs)("div",{className:"bg-white border-b border-slate-200 px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-slate-900",children:"レポート・分析"}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-0.5",children:"システム全体の統計データとパフォーマンス指標"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>z(!i),className:"flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors text-sm ".concat(i?"bg-green-50 border-green-200 text-green-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"),children:[(0,a.jsx)(h.Z,{size:14,className:i?"animate-spin":""}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"自動更新"})]}),(0,a.jsxs)("select",{value:S,onChange:e=>k(e.target.value),className:"px-2.5 py-1.5 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-slate-500",children:[(0,a.jsx)("option",{value:"7days",children:"過去7日間"}),(0,a.jsx)("option",{value:"30days",children:"過去30日間"}),(0,a.jsx)("option",{value:"90days",children:"過去90日間"}),(0,a.jsx)("option",{value:"1year",children:"過去1年"})]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors text-sm",children:[(0,a.jsx)(g.Z,{size:14}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"CSV"})]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors text-sm",children:[(0,a.jsx)(b.Z,{size:14}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Excel"})]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[(0,a.jsx)(j.Z,{size:14}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"PDF"})]})]})]}),(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{id:"overview",label:"概要",icon:u.Z},{id:"stores",label:"店舗分析",icon:f.Z},{id:"users",label:"ユーザー分析",icon:p.Z},{id:"gifts",label:"ギフト分析",icon:N.Z},{id:"payments",label:"決済分析",icon:v.Z}].map(e=>{let l=e.icon;return(0,a.jsxs)("button",{onClick:()=>t(e.id),className:"flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-colors whitespace-nowrap text-sm ".concat(s===e.id?"bg-slate-600 text-white border-b-2 border-slate-600":"text-gray-600 hover:bg-gray-50"),children:[(0,a.jsx)(l,{size:16}),(0,a.jsx)("span",{className:"text-sm",children:e.label})]},e.id)})})]}),(0,a.jsx)("div",{className:"p-4",children:"overview"!==s?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mb-6",children:(0,a.jsx)(u.Z,{size:48,className:"text-slate-400"})}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"データ分析準備中"}),(0,a.jsxs)("p",{className:"text-slate-600 text-center max-w-md mb-2",children:["stores"===s&&"店舗別の詳細な分析データを準備しています。","users"===s&&"ユーザー行動分析データを準備しています。","gifts"===s&&"ギフト利用状況の分析データを準備しています。","payments"===s&&"決済方法別の統計データを準備しています。"]}),(0,a.jsx)("p",{className:"text-slate-500 text-sm",children:"運用データが蓄積され次第、詳細な分析情報を表示します"}),(0,a.jsx)("button",{onClick:()=>t("overview"),className:"mt-6 px-6 py-2.5 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:"概要に戻る"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"総売上"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:["\xa5",_.totalRevenue.toLocaleString()]})]}),(0,a.jsx)("div",{className:"p-2 bg-slate-600 rounded-lg",children:(0,a.jsx)(y.Z,{size:18,className:"text-slate-300"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,a.jsx)(w.Z,{size:14,className:"text-green-600"}),(0,a.jsxs)("span",{className:"text-green-600 font-medium",children:["+",_.revenueChange,"%"]}),(0,a.jsx)("span",{className:"text-gray-500",children:"前期比"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"総取引数"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:_.totalTransactions.toLocaleString()})]}),(0,a.jsx)("div",{className:"p-2 bg-slate-600 rounded-lg",children:(0,a.jsx)(v.Z,{size:18,className:"text-slate-300"})})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["平均: \xa5",_.averageTransaction.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"アクティブユーザー"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:_.activeUsers.toLocaleString()})]}),(0,a.jsx)("div",{className:"p-2 bg-slate-600 rounded-lg",children:(0,a.jsx)(p.Z,{size:18,className:"text-slate-300"})})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["総: ",_.totalUsers.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"アクティブ店舗"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:_.activeStores})]}),(0,a.jsx)("div",{className:"p-2 bg-slate-600 rounded-lg",children:(0,a.jsx)(f.Z,{size:18,className:"text-slate-300"})})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["総: ",_.totalStores]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[(0,a.jsxs)("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,a.jsx)(N.Z,{size:18,className:"text-slate-300"}),"ポイント統計"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"発行済みポイント"}),(0,a.jsxs)("span",{className:"text-base font-bold text-gray-900",children:[_.pointsIssued.toLocaleString(),"pt"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-slate-6000 rounded-full",style:{width:"100%"}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"使用済みポイント"}),(0,a.jsxs)("span",{className:"text-base font-bold text-gray-900",children:[_.pointsUsed.toLocaleString(),"pt"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:"".concat(_.pointsUsageRate,"%")}})})]}),(0,a.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"使用率"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-slate-300",children:[_.pointsUsageRate,"%"]})]})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[(0,a.jsxs)("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{size:18,className:"text-slate-300"}),"パフォーマンス指標"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2.5 bg-slate-600 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"継続率"}),(0,a.jsxs)("span",{className:"text-base font-bold text-slate-300",children:[_.retentionRate,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2.5 bg-green-50 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"コンバージョン率"}),(0,a.jsxs)("span",{className:"text-base font-bold text-green-600",children:[_.conversionRate,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2.5 bg-slate-600 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"成長率"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(w.Z,{size:14,className:"text-slate-300"}),(0,a.jsxs)("span",{className:"text-base font-bold text-slate-300",children:[_.growthRate,"%"]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[(0,a.jsxs)("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,a.jsx)(Z.Z,{size:18,className:"text-green-600"}),"システム健全性"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"稼働率"}),(0,a.jsxs)("span",{className:"text-base font-bold text-green-600",children:[_.uptime,"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:"".concat(_.uptime,"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"決済成功率"}),(0,a.jsxs)("span",{className:"text-base font-bold text-slate-300",children:[_.paymentSuccess,"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-slate-6000 rounded-full",style:{width:"".concat(_.paymentSuccess,"%")}})})]}),(0,a.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"API応答時間"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:[_.apiResponseTime,"ms"]})]})})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[(0,a.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3",children:"売上推移"}),(0,a.jsxs)("div",{className:"h-64 flex flex-col items-center justify-center bg-slate-50 rounded-lg border-2 border-dashed border-slate-300",children:[(0,a.jsx)(y.Z,{size:32,className:"text-slate-400 mb-3"}),(0,a.jsx)("p",{className:"text-slate-600 font-medium mb-1",children:"グラフ機能は準備中です"}),(0,a.jsx)("p",{className:"text-slate-500 text-sm",children:"データ蓄積後に表示されます"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[(0,a.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3",children:"ユーザー成長"}),(0,a.jsxs)("div",{className:"h-64 flex flex-col items-center justify-center bg-slate-50 rounded-lg border-2 border-dashed border-slate-300",children:[(0,a.jsx)(p.Z,{size:32,className:"text-slate-400 mb-3"}),(0,a.jsx)("p",{className:"text-slate-600 font-medium mb-1",children:"グラフ機能は準備中です"}),(0,a.jsx)("p",{className:"text-slate-500 text-sm",children:"データ蓄積後に表示されます"})]})]})]})]})})]})]})]})}}},function(e){e.O(0,[1664,7582,2888,9774,179],function(){return e(e.s=2967)}),_N_E=e.O()}]);