(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2344],{7595:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/favorites",function(){return t(5529)}])},1707:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(1134).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},88:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(1134).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},116:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(1134).Z)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]])},7864:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(1134).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},5529:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var a=t(5893),r=t(7294),i=t(3664),n=t(1163),l=t(116),o=t(9073),c=t(88),d=t(3350),x=t(1707),h=t(7864);function m(){(0,n.useRouter)();let[e,s]=(0,r.useState)("stores"),[t,m]=(0,r.useState)([]),[p,f]=(0,r.useState)([]),[u,g]=(0,r.useState)(!0);(0,r.useEffect)(()=>{j()},[]);let j=async()=>{try{m([{id:"1",name:"カフェドゥ ビート",category:"カフェ",address:"東京都渋谷区神南1-2-3",rating:4.8,distance:.3,pointRate:5},{id:"2",name:"レストラン バンビーノ",category:"レストラン",address:"東京都渋谷区道玄坂2-3-4",rating:4.6,distance:.5,pointRate:10}]),f([{id:"1",name:"Amazonギフト券 1,000円分",provider:"Amazon",points:1e3,originalPrice:1e3,category:"デジタル",rating:4.8},{id:"2",name:"スターバックス ドリンクチケット",provider:"Starbucks",points:500,originalPrice:500,category:"バウチャー",rating:4.9}])}catch(e){console.error("Failed to load favorites:",e)}finally{g(!1)}},N=async e=>{try{m(s=>s.filter(s=>s.id!==e))}catch(e){console.error("Failed to remove favorite store:",e)}},y=async e=>{try{f(s=>s.filter(s=>s.id!==e))}catch(e){console.error("Failed to remove favorite gift:",e)}};return u?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})}):(0,a.jsx)(i.Z,{title:"お気に入り - Melty+",children:(0,a.jsxs)("div",{className:"px-4 py-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-pink-200 p-2 mb-6",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>s("stores"),className:"flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-xl font-medium transition-all ".concat("stores"===e?"bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow-lg":"text-gray-600 hover:bg-pink-50"),children:[(0,a.jsx)(l.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"店舗"}),(0,a.jsx)("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-sm",children:t.length})]}),(0,a.jsxs)("button",{onClick:()=>s("gifts"),className:"flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-xl font-medium transition-all ".concat("gifts"===e?"bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow-lg":"text-gray-600 hover:bg-pink-50"),children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"ギフト"}),(0,a.jsx)("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-sm",children:p.length})]})]})}),"stores"===e&&(0,a.jsx)("div",{className:"space-y-4",children:0===t.length?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-12 text-center",children:[(0,a.jsx)(l.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"お気に入りの店舗がありません"}),(0,a.jsx)("button",{onClick:()=>window.location.href="/user/stores/",className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white px-6 py-2 rounded-lg hover:from-rose-600 hover:to-pink-600 transition-all",children:"店舗を探す"})]}):t.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-4 sm:p-6 hover:shadow-md transition-all",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-rose-100 to-pink-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(l.Z,{className:"w-8 h-8 text-rose-500"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.category}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,a.jsx)("span",{className:"font-semibold",children:e.rating})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[e.distance,"km"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:[e.pointRate,"%還元"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.address})]})]})}),(0,a.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>window.location.href="/user/stores/".concat(e.id,"/"),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"詳細を見る",children:(0,a.jsx)(x.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>N(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"削除",children:(0,a.jsx)(h.Z,{className:"w-5 h-5"})})]})]})},e.id))}),"gifts"===e&&(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:0===p.length?(0,a.jsxs)("div",{className:"col-span-full bg-white rounded-xl shadow-sm border p-12 text-center",children:[(0,a.jsx)(o.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"お気に入りのギフトがありません"}),(0,a.jsx)("button",{onClick:()=>window.location.href="/user/gifts/",className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white px-6 py-2 rounded-lg hover:from-rose-600 hover:to-pink-600 transition-all",children:"ギフトを探す"})]}):p.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden hover:shadow-md transition-all",children:[(0,a.jsx)("div",{className:"h-40 bg-gradient-to-br from-rose-100 to-pink-100 flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"w-16 h-16 text-rose-400"})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900 text-sm mb-1 line-clamp-2",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:e.provider}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 mb-3",children:[(0,a.jsx)(c.Z,{className:"w-3 h-3 text-yellow-400 fill-current"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-gray-700",children:e.rating})]}),(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-rose-600",children:[e.points.toLocaleString(),"pt"]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 ml-1 line-through",children:["\xa5",e.originalPrice.toLocaleString()]})]})}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>window.location.href="/user/gifts/",className:"flex-1 bg-gradient-to-r from-rose-500 to-pink-500 text-white py-2 px-3 rounded-lg text-sm hover:from-rose-600 hover:to-pink-600 transition-all",children:"交換する"}),(0,a.jsx)("button",{onClick:()=>y(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,a.jsx)(h.Z,{className:"w-5 h-5"})})]})]})]},e.id))})]})})}}},function(e){e.O(0,[554,3664,2888,9774,179],function(){return e(e.s=7595)}),_N_E=e.O()}]);