(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6998],{7355:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user.backup-20251028_232810/gifts",function(){return s(940)}])},1134:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var i=s(7294);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=r(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,i.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:d="",children:u,iconNode:p,...x}=e;return(0,i.createElement)("svg",{ref:t,...o,width:a,height:a,stroke:s,strokeWidth:n?24*Number(r)/Number(a):r,className:l("lucide",d),...!u&&!c(x)&&{"aria-hidden":"true"},...x},[...p.map(e=>{let[t,s]=e;return(0,i.createElement)(t,s)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let s=(0,i.forwardRef)((s,r)=>{let{className:c,...o}=s;return(0,i.createElement)(d,{ref:r,iconNode:t,className:l("lucide-".concat(a(n(e))),"lucide-".concat(e),c),...o})});return s.displayName=n(e),s}},7918:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(1134).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},9073:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(1134).Z)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},1601:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(1134).Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},6215:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(1134).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},3156:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(1134).Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},6127:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(1134).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},5264:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(1134).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7865:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(1134).Z)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},88:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(1134).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},6611:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(1134).Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},940:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var i=s(5893),a=s(7294),r=s(9008),n=s.n(r),l=s(1163),c=s(6611),o=s(3156),d=s(9073),u=s(6215),p=s(7918),x=s(5264),h=s(6127),m=s(88),f=s(1601),g=s(7865);function j(){let e=(0,l.useRouter)(),[t,s]=(0,a.useState)([]),[r,j]=(0,a.useState)([]),[v,k]=(0,a.useState)([]),[y,b]=(0,a.useState)(null),[w,N]=(0,a.useState)(""),[_,Z]=(0,a.useState)("popular"),[C,q]=(0,a.useState)("all"),[A,S]=(0,a.useState)(!1),[D,L]=(0,a.useState)(48800),[M,z]=(0,a.useState)(!0);(0,a.useEffect)(()=>{E()},[]),(0,a.useEffect)(()=>{O()},[t,y,w,_,C,A]);let E=async()=>{try{k([{id:"food",name:"飲食",icon:"\uD83C\uDF7D️",color:"from-orange-400 to-red-500"},{id:"fashion",name:"ファッション",icon:"\uD83D\uDC57",color:"from-purple-400 to-pink-500"},{id:"tech",name:"テクノロジー",icon:"\uD83D\uDCBB",color:"from-blue-400 to-cyan-500"},{id:"beauty",name:"ビューティー",icon:"\uD83D\uDC84",color:"from-pink-400 to-rose-500"}]),s([{id:"1",name:"Amazonギフト券 1,000円分",description:"オンラインショッピングに使える便利なギフト券",points_required:1e3,original_price:1e3,provider_name:"Amazon",gift_type:"digital",category:"tech",rating:4.8,reviews:245,stock_quantity:100,unlimited_stock:!0,is_available:!0,featured:!0,popular:!0},{id:"2",name:"スターバックス ドリンクチケット",description:"全国のスターバックスで使えるドリンクチケット",points_required:500,original_price:500,provider_name:"Starbucks",gift_type:"voucher",category:"food",rating:4.9,reviews:892,stock_quantity:50,unlimited_stock:!1,is_available:!0,featured:!0,popular:!0},{id:"3",name:"UNIQLO ギフトカード 3,000円分",description:"ユニクロ全店舗で使えるギフトカード",points_required:3e3,original_price:3e3,provider_name:"UNIQLO",gift_type:"physical",category:"fashion",rating:4.7,reviews:156,stock_quantity:20,unlimited_stock:!1,is_available:!0,featured:!1,popular:!0}])}catch(e){console.error("Failed to load gifts:",e)}finally{z(!1)}},O=()=>{let e=[...t];if(y&&(e=e.filter(e=>e.category===y)),w){let t=w.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.provider_name.toLowerCase().includes(t))}switch("all"!==C&&(e=e.filter(e=>e.gift_type===C)),A&&(e=e.filter(e=>e.featured)),_){case"price_low":e.sort((e,t)=>e.points_required-t.points_required);break;case"price_high":e.sort((e,t)=>t.points_required-e.points_required);break;case"rating":e.sort((e,t)=>(t.rating||0)-(e.rating||0));break;default:e.sort((e,t)=>(t.popular?1:0)-(e.popular?1:0))}j(e)},F=e=>D>=e,U=async e=>{if(F(e.points_required)&&e.is_available)try{console.log("Gift exchanged:",e.name),alert("".concat(e.name,"の交換が完了しました！"))}catch(e){console.error("Exchange failed:",e),alert("交換に失敗しました")}},B=e=>{switch(e){case"digital":return(0,i.jsx)(c.Z,{className:"w-4 h-4"});case"physical":return(0,i.jsx)(o.Z,{className:"w-4 h-4"});default:return(0,i.jsx)(d.Z,{className:"w-4 h-4"})}},R=e=>{switch(e){case"digital":return"デジタル";case"physical":return"現物";case"voucher":return"バウチャー";case"coupon":return"クーポン";default:return e}};return M?(0,i.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n(),{children:[(0,i.jsx)("title",{children:"Melty+ (メルティプラス) - ギフト"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,i.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,i.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Comic+Neue:wght@300;400;700&family=Nunito:wght@300;400;500;600;700;800&family=Comfortaa:wght@300;400;500;600;700&family=Quicksand:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&family=Pacifico&family=Great+Vibes&family=Satisfy&family=Fredoka+One&family=Bungee&display=swap",rel:"stylesheet"})]}),(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-rose-50 to-peach-50",children:[(0,i.jsx)("header",{className:"bg-white shadow-lg",children:(0,i.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,i.jsx)("button",{onClick:()=>e.push("/user"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,i.jsx)(u.Z,{className:"w-5 h-5 text-gray-600"})}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-pink-500 to-rose-500 flex items-center justify-center shadow-lg",children:(0,i.jsx)(d.Z,{className:"w-5 h-5 text-white"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-base sm:text-xl md:text-2xl font-light text-pink-600",style:{fontFamily:"Dancing Script, cursive"},children:"Melty+ Store"}),(0,i.jsx)("span",{className:"text-xs sm:text-sm text-pink-500 block -mt-1",children:"Gifts"})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)("div",{className:"text-right mr-2",children:[(0,i.jsx)("p",{className:"text-xs text-pink-600",children:"所持ポイント"}),(0,i.jsxs)("p",{className:"text-sm font-bold text-pink-700",children:[D.toLocaleString()," pt"]})]}),(0,i.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,i.jsx)(p.Z,{className:"w-5 h-5 text-gray-600"})}),(0,i.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,i.jsx)(x.Z,{className:"w-5 h-5 text-gray-600"})})]})]})})}),(0,i.jsx)("main",{className:"p-4 lg:p-8",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-4 sm:p-6",children:[(0,i.jsx)("h3",{className:"text-lg font-bold text-pink-800 mb-4",children:"カテゴリ"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[(0,i.jsxs)("button",{onClick:()=>b(null),className:"p-3 rounded-2xl text-center transition-all duration-200 ".concat(null===y?"bg-gradient-to-r from-pink-400 to-rose-500 text-white shadow-soft":"bg-pink-50 text-pink-700 hover:bg-pink-100"),children:[(0,i.jsx)("div",{className:"text-2xl mb-1",children:"\uD83C\uDF81"}),(0,i.jsx)("span",{className:"text-sm font-semibold",children:"すべて"})]}),v.map(e=>(0,i.jsxs)("button",{onClick:()=>b(e.id),className:"p-3 rounded-2xl text-center transition-all duration-200 ".concat(y===e.id?"bg-gradient-to-r ".concat(e.color," text-white shadow-soft"):"bg-pink-50 text-pink-700 hover:bg-pink-100"),children:[(0,i.jsx)("div",{className:"text-2xl mb-1",children:e.icon}),(0,i.jsx)("span",{className:"text-sm font-semibold",children:e.name})]},e.id))]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-pink-400",size:20}),(0,i.jsx)("input",{type:"text",value:w,onChange:e=>N(e.target.value),className:"w-full pl-12 pr-4 py-2 border border-pink-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"ギフトを検索..."})]}),(0,i.jsxs)("select",{value:C,onChange:e=>q(e.target.value),className:"w-full px-4 py-2 border border-pink-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",children:[(0,i.jsx)("option",{value:"all",children:"すべてのタイプ"}),(0,i.jsx)("option",{value:"digital",children:"デジタル"}),(0,i.jsx)("option",{value:"physical",children:"現物"}),(0,i.jsx)("option",{value:"voucher",children:"バウチャー"}),(0,i.jsx)("option",{value:"coupon",children:"クーポン"})]}),(0,i.jsxs)("select",{value:_,onChange:e=>Z(e.target.value),className:"w-full px-4 py-2 border border-pink-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",children:[(0,i.jsx)("option",{value:"popular",children:"人気順"}),(0,i.jsx)("option",{value:"price_low",children:"ポイント低い順"}),(0,i.jsx)("option",{value:"price_high",children:"ポイント高い順"}),(0,i.jsx)("option",{value:"rating",children:"評価順"})]}),(0,i.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,i.jsx)("input",{type:"checkbox",checked:A,onChange:e=>S(e.target.checked),className:"w-4 h-4 text-pink-500 border-pink-300 rounded focus:ring-pink-400"}),(0,i.jsx)("span",{className:"text-sm text-pink-700 font-semibold",children:"注目商品のみ"})]})]}),(0,i.jsx)("div",{className:"flex justify-between items-center mt-4",children:(0,i.jsxs)("p",{className:"text-sm text-pink-600",children:[r.length," 件のギフトが見つかりました"]})})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border hover:shadow-lg transition-all duration-200 overflow-hidden",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:e.image_url||"https://via.placeholder.com/300x200/ec4899/ffffff?text=".concat(encodeURIComponent(e.name)),alt:e.name,className:"w-full h-48 object-cover"}),(0,i.jsxs)("div",{className:"absolute top-3 left-3 flex gap-2",children:[e.featured&&(0,i.jsx)("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs px-2 py-1 rounded-full font-semibold",children:"注目"}),e.popular&&(0,i.jsx)("span",{className:"bg-gradient-to-r from-pink-400 to-rose-500 text-white text-xs px-2 py-1 rounded-full font-semibold",children:"人気"})]}),(0,i.jsxs)("div",{className:"absolute top-3 right-3 flex items-center gap-1 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full",children:[B(e.gift_type),(0,i.jsx)("span",{className:"text-xs font-semibold text-pink-700",children:R(e.gift_type)})]})]}),(0,i.jsxs)("div",{className:"p-5 space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-bold text-pink-800 text-lg line-clamp-2",children:e.name}),(0,i.jsx)("p",{className:"text-sm text-pink-600",children:e.provider_name})]}),(0,i.jsx)("p",{className:"text-sm text-pink-600 line-clamp-2",children:e.description}),e.rating&&(0,i.jsx)("div",{className:"flex items-center gap-2",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(m.Z,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,i.jsx)("span",{className:"text-sm font-bold ml-1 text-pink-700",children:e.rating}),(0,i.jsxs)("span",{className:"text-sm text-pink-500 ml-1",children:["(",e.reviews,"件)"]})]})}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{className:"text-xl font-bold text-pink-600",children:[e.points_required.toLocaleString(),"pt"]}),(0,i.jsxs)("span",{className:"text-sm text-pink-500 ml-2 line-through",children:["\xa5",e.original_price.toLocaleString()]})]}),(0,i.jsx)("div",{className:"text-right",children:e.unlimited_stock?(0,i.jsx)("span",{className:"text-xs text-green-600 font-semibold",children:"在庫潤沢"}):(0,i.jsxs)("span",{className:"text-xs text-pink-500",children:["残り ",e.stock_quantity,"個"]})})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("button",{className:"p-2 bg-pink-50 rounded-xl hover:bg-pink-100 transition-colors",children:(0,i.jsx)(f.Z,{className:"w-4 h-4 text-pink-600"})}),(0,i.jsxs)("button",{onClick:()=>U(e),disabled:!F(e.points_required)||!e.is_available,className:"flex-1 py-2 px-4 rounded-xl font-semibold transition-all duration-200 ".concat(F(e.points_required)&&e.is_available?"bg-gradient-to-r from-pink-400 to-rose-500 text-white hover:from-pink-500 hover:to-rose-600 shadow-soft hover:shadow-lg":"bg-gray-200 text-gray-500 cursor-not-allowed"),children:[(0,i.jsx)(g.Z,{className:"w-4 h-4 inline mr-2"}),F(e.points_required)?e.is_available?"交換する":"交換不可":"ポイント不足"]})]})]})]},e.id))}),0===r.length&&(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)(d.Z,{className:"w-16 h-16 text-pink-300 mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-pink-500",children:"該当するギフトが見つかりませんでした"})]})]})})]})]})}},9008:function(e,t,s){e.exports=s(3867)},1163:function(e,t,s){e.exports=s(3079)}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=7355)}),_N_E=e.O()}]);