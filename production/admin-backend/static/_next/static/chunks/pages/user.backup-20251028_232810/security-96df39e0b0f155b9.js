(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8718],{2561:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user.backup-20251028_232810/security",function(){return s(7412)}])},1134:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var r=s(7294);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=c(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:n,className:d="",children:x,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...o,width:a,height:a,stroke:s,strokeWidth:n?24*Number(c)/Number(a):c,className:l("lucide",d),...!x&&!i(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(x)?x:[x]])}),x=(e,t)=>{let s=(0,r.forwardRef)((s,c)=>{let{className:i,...o}=s;return(0,r.createElement)(d,{ref:c,iconNode:t,className:l("lucide-".concat(a(n(e))),"lucide-".concat(e),i),...o})});return s.displayName=n(e),s}},2761:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7918:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},3050:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7695:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},39:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},3832:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},5928:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2126:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3350:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5264:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3416:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},4420:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},7412:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var r=s(5893),a=s(7294),c=s(9008),n=s.n(c),l=s(1163),i=s(2761),o=s(3416),d=s(7918),x=s(5264),u=s(2126),m=s(3832),h=s(5928),p=s(4420),f=s(39),y=s(3050),g=s(7695),j=s(3350);function b(){let e=(0,l.useRouter)(),[t,s]=(0,a.useState)(""),[c,b]=(0,a.useState)(""),[w,N]=(0,a.useState)(""),[v,k]=(0,a.useState)(!1),[Z,C]=(0,a.useState)(!1),[M,S]=(0,a.useState)(!1),[_,A]=(0,a.useState)(!1),[z,E]=(0,a.useState)([]),[P,F]=(0,a.useState)(!1),[L,O]=(0,a.useState)(null);(0,a.useEffect)(()=>{W()},[]);let W=async()=>{try{A(!1),E([{id:"1",device:"iPhone 13 Pro",location:"東京都渋谷区",ip:"192.168.1.1",timestamp:"2025-10-23 15:30",success:!0},{id:"2",device:"Chrome on Windows",location:"東京都新宿区",ip:"192.168.1.2",timestamp:"2025-10-22 10:15",success:!0},{id:"3",device:"Safari on iPad",location:"神奈川県横浜市",ip:"192.168.1.3",timestamp:"2025-10-21 18:45",success:!1}])}catch(e){console.error("Failed to load security settings:",e)}},q=async e=>{if(e.preventDefault(),c!==w){O({type:"error",text:"新しいパスワードが一致しません"});return}if(c.length<8){O({type:"error",text:"パスワードは8文字以上で入力してください"});return}F(!0);try{console.log("Password change requested"),O({type:"success",text:"パスワードが変更されました"}),s(""),b(""),N("")}catch(e){console.error("Password change failed:",e),O({type:"error",text:"パスワードの変更に失敗しました"})}finally{F(!1)}},R=async()=>{try{A(!_),O({type:"success",text:_?"二段階認証を無効にしました":"二段階認証を有効にしました"})}catch(e){console.error("Failed to toggle 2FA:",e),O({type:"error",text:"設定の変更に失敗しました"})}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n(),{children:[(0,r.jsx)("title",{children:"Melty+ (メルティプラス) - セキュリティ設定"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Comic+Neue:wght@300;400;700&family=Nunito:wght@300;400;500;600;700;800&family=Comfortaa:wght@300;400;500;600;700&family=Quicksand:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&family=Pacifico&family=Great+Vibes&family=Satisfy&family=Fredoka+One&family=Bungee&display=swap",rel:"stylesheet"})]}),(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-rose-50 to-pink-100",children:[(0,r.jsx)("div",{className:"bg-white shadow-lg",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:py-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,r.jsx)("button",{onClick:()=>e.push("/user/profile"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(i.Z,{className:"w-5 h-5 text-gray-600"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-pink-500 to-rose-500 rounded-xl flex items-center justify-center shadow-md",children:(0,r.jsx)(o.Z,{className:"w-5 h-5 sm:w-7 sm:h-7 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"セキュリティ"}),(0,r.jsx)("p",{className:"text-sm sm:text-base text-gray-600 hidden sm:block",children:"アカウントのセキュリティ設定"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,r.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(d.Z,{className:"w-5 h-5 text-gray-600"})}),(0,r.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(x.Z,{className:"w-5 h-5 text-gray-600"})})]})]})})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6 sm:py-8 space-y-6",children:[L&&(0,r.jsx)("div",{className:"p-4 rounded-lg border ".concat("success"===L.type?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"),children:L.text}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-100 to-purple-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(u.Z,{className:"w-6 h-6 text-indigo-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"パスワード変更"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"アカウントのパスワードを変更"})]})]}),(0,r.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"現在のパスワード"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,r.jsx)("input",{type:v?"text":"password",value:t,onChange:e=>s(e.target.value),className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400",placeholder:"現在のパスワードを入力"}),(0,r.jsx)("button",{type:"button",onClick:()=>k(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:v?(0,r.jsx)(m.Z,{className:"w-5 h-5"}):(0,r.jsx)(h.Z,{className:"w-5 h-5"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"新しいパスワード"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,r.jsx)("input",{type:Z?"text":"password",value:c,onChange:e=>b(e.target.value),className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400",placeholder:"8文字以上"}),(0,r.jsx)("button",{type:"button",onClick:()=>C(!Z),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:Z?(0,r.jsx)(m.Z,{className:"w-5 h-5"}):(0,r.jsx)(h.Z,{className:"w-5 h-5"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"新しいパスワード（確認）"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,r.jsx)("input",{type:M?"text":"password",value:w,onChange:e=>N(e.target.value),className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400",placeholder:"パスワードを再入力"}),(0,r.jsx)("button",{type:"button",onClick:()=>S(!M),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:M?(0,r.jsx)(m.Z,{className:"w-5 h-5"}):(0,r.jsx)(h.Z,{className:"w-5 h-5"})})]})]}),(0,r.jsx)("button",{type:"submit",disabled:P,className:"w-full bg-gradient-to-r from-pink-500 to-rose-500 text-white py-3 rounded-lg font-medium hover:from-pink-600 hover:to-rose-600 transition-all disabled:opacity-50",children:P?"変更中...":"パスワードを変更"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(p.Z,{className:"w-6 h-6 text-purple-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"二段階認証"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"追加のセキュリティレイヤー"})]})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:_,onChange:R,className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-14 h-7 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-purple-500 peer-checked:to-pink-500"})]})]}),_&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-purple-700",children:"二段階認証が有効になっています。ログイン時にSMSで送信される認証コードが必要です。"})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-100 to-rose-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(f.Z,{className:"w-6 h-6 text-pink-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"ログイン履歴"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"最近のアクセス記録"})]})]}),(0,r.jsx)("div",{className:"space-y-4",children:z.map(e=>(0,r.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ".concat(e.success?"bg-green-100":"bg-red-100"),children:e.success?(0,r.jsx)(y.Z,{className:"w-5 h-5 text-green-600"}):(0,r.jsx)(g.Z,{className:"w-5 h-5 text-red-600"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:e.device}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(e.success?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.success?"成功":"失敗"})]}),(0,r.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(j.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:e.location})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(f.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:e.timestamp})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["IP: ",e.ip]})]})]})]},e.id))})]})]})]})]})}},9008:function(e,t,s){e.exports=s(3867)},1163:function(e,t,s){e.exports=s(3079)}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=2561)}),_N_E=e.O()}]);