(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8361],{9663:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/terminal/amount-input",function(){return r(2138)}])},1134:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var s=r(7294);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),l=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:d="",children:x,iconNode:m,...u}=e;return(0,s.createElement)("svg",{ref:t,...c,width:n,height:n,stroke:r,strokeWidth:l?24*Number(a)/Number(n):a,className:i("lucide",d),...!x&&!o(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(x)?x:[x]])}),x=(e,t)=>{let r=(0,s.forwardRef)((r,a)=>{let{className:o,...c}=r;return(0,s.createElement)(d,{ref:a,iconNode:t,className:i("lucide-".concat(n(l(e))),"lucide-".concat(e),o),...c})});return r.displayName=l(e),r}},2609:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(1134).Z)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},6111:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(1134).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2190:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(1134).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2138:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var s=r(5893),n=r(7294),a=r(1163),l=r(9008),i=r.n(l),o=r(2190),c=r(2609),d=r(6111);function x(){let e=(0,a.useRouter)(),{userId:t,withPoints:r}=e.query,[l,x]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[h,g]=(0,n.useState)(0),f="true"===r,b=e=>{l.length<8&&x(l+e)},p=e=>{x(e.toString())},y=parseInt(l)||0,j=Math.max(0,y-h);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{children:(0,s.jsx)("title",{children:"金額入力 - Melty+ Terminal"})}),(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex flex-col",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 sm:px-6 py-3 shadow-md",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-lg sm:text-xl font-bold",children:"金額入力"}),(0,s.jsxs)("button",{onClick:()=>{e.push("/terminal/customer-confirm?userId=".concat(t))},className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-lg transition-colors",children:[(0,s.jsx)(o.Z,{size:18}),(0,s.jsx)("span",{className:"text-sm",children:"戻る"})]})]})}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"text-center mb-2 flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"決済金額"}),f?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full text-xs font-medium",children:[(0,s.jsx)(c.Z,{size:12}),"ポイント付与あり"]}):(0,s.jsx)("span",{className:"inline-flex items-center gap-1 bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs font-medium",children:"ポイント付与なし"})]}),(0,s.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6 border-2 border-blue-200",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("div",{className:"text-5xl font-bold text-gray-900 flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{className:"text-3xl text-gray-600",children:"\xa5"}),l||"0"]})})})]}),y>0&&(0,s.jsxs)("div",{className:"mb-6 bg-green-50 rounded-lg p-4 border border-green-200",children:[(0,s.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(c.Z,{size:20,className:"text-green-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"ポイントを使用"}),(0,s.jsxs)("div",{className:"text-xs text-gray-600",children:["保有: ",2100..toLocaleString(),"pt"]})]})]}),(0,s.jsx)("input",{type:"checkbox",checked:m,onChange:()=>{u(!m),m?g(0):g(Math.min(2100,parseInt(l)||0))},className:"w-5 h-5 text-green-600 rounded"})]}),m&&(0,s.jsx)("div",{className:"mt-3 pt-3 border-t border-green-200",children:(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,s.jsx)("span",{children:"使用ポイント:"}),(0,s.jsxs)("span",{className:"font-bold text-green-600",children:[h.toLocaleString(),"pt"]})]}),(0,s.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,s.jsx)("span",{children:"お支払い額:"}),(0,s.jsxs)("span",{className:"text-blue-600",children:["\xa5",j.toLocaleString()]})]})]})})]}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[100,500,1e3,3e3,5e3,1e4].map(e=>(0,s.jsxs)("button",{onClick:()=>p(e),className:"bg-blue-50 hover:bg-blue-100 active:scale-95 text-sm font-medium text-blue-600 rounded-lg py-2 transition-all",children:["\xa5",e.toLocaleString()]},e))}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[["1","2","3","4","5","6","7","8","9"].map(e=>(0,s.jsx)("button",{onClick:()=>b(e),className:"bg-gradient-to-br from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-200 active:scale-95 text-2xl font-bold text-gray-900 rounded-lg h-14 transition-all shadow-sm hover:shadow-md",children:e},e)),(0,s.jsx)("button",{onClick:()=>{x(""),u(!1),g(0)},className:"bg-gradient-to-br from-red-50 to-red-100 hover:from-red-100 hover:to-red-200 active:scale-95 text-xs font-medium text-red-600 rounded-lg h-14 transition-all shadow-sm hover:shadow-md",children:"クリア"}),(0,s.jsx)("button",{onClick:()=>b("0"),className:"bg-gradient-to-br from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-200 active:scale-95 text-2xl font-bold text-gray-900 rounded-lg h-14 transition-all shadow-sm hover:shadow-md",children:"0"}),(0,s.jsx)("button",{onClick:()=>b("00"),className:"bg-gradient-to-br from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-200 active:scale-95 text-2xl font-bold text-gray-900 rounded-lg h-14 transition-all shadow-sm hover:shadow-md",children:"00"})]}),(0,s.jsxs)("button",{onClick:()=>{l&&0!==parseInt(l)&&e.push("/terminal/payment-confirm?userId=".concat(t,"&amount=").concat(l,"&points=").concat(h,"&withPoints=").concat(f))},disabled:!l||0===parseInt(l),className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed text-white font-bold py-4 rounded-lg transition-all shadow-md hover:shadow-lg active:scale-98 flex items-center justify-center gap-2",children:[(0,s.jsx)(d.Z,{size:20}),(0,s.jsx)("span",{children:"決済確認へ進む"})]})]})})]})]})}},9008:function(e,t,r){e.exports=r(3867)},1163:function(e,t,r){e.exports=r(3079)}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=9663)}),_N_E=e.O()}]);