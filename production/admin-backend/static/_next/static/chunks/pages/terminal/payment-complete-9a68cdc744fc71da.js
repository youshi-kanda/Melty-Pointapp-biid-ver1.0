(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9622],{3461:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/terminal/payment-complete",function(){return s(9018)}])},1134:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var r=s(7294);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),l=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:x,iconNode:m,...u}=e;return(0,r.createElement)("svg",{ref:t,...d,width:n,height:n,stroke:s,strokeWidth:l?24*Number(a)/Number(n):a,className:i("lucide",o),...!x&&!c(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(x)?x:[x]])}),x=(e,t)=>{let s=(0,r.forwardRef)((s,a)=>{let{className:c,...d}=s;return(0,r.createElement)(o,{ref:a,iconNode:t,className:i("lucide-".concat(n(l(e))),"lucide-".concat(e),c),...d})});return s.displayName=l(e),s}},3645:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},9073:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},6215:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},415:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},9018:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var r=s(5893),n=s(7294),a=s(1163),l=s(9008),i=s.n(l),c=s(3645),d=s(9073),o=s(415),x=s(6215);function m(){let e=(0,a.useRouter)(),{userId:t,amount:s,points:l,withPoints:m}=e.query,[u,h]=(0,n.useState)(10),f=parseInt(s)||0,g=parseInt(l)||0,p=f-g,j="true"===m,b=j?Math.floor(.01*p):0,y={memberId:"M001234",newPoints:2100-g+b},N="TXN"+Date.now().toString().slice(-8),v=new Date().toLocaleString("ja-JP");return(0,n.useEffect)(()=>{let t=setInterval(()=>{h(s=>s<=1?(clearInterval(t),e.push("/terminal/"),0):s-1)},1e3);return()=>clearInterval(t)},[e]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"決済完了 - Melty+ Terminal"})}),(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex flex-col",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 sm:px-6 py-3 shadow-md",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(c.Z,{size:22}),(0,r.jsx)("h1",{className:"text-lg sm:text-xl font-bold",children:"決済完了"})]}),(0,r.jsxs)("div",{className:"text-sm bg-white/20 px-3 py-1 rounded-lg",children:[u,"秒後に自動で戻ります"]})]})}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsxs)("div",{className:"inline-block relative",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center mx-auto shadow-lg animate-bounce",children:(0,r.jsx)(c.Z,{size:56,className:"text-white"})}),(0,r.jsx)("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full animate-ping opacity-75"})]}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mt-4 mb-2",children:"お会計完了！"}),(0,r.jsx)("p",{className:"text-gray-600",children:"ありがとうございました"})]}),(0,r.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6 mb-6 border-2 border-green-200",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center pb-4 border-b border-green-200",children:[(0,r.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"お支払い金額"}),(0,r.jsxs)("div",{className:"text-4xl font-bold text-green-600",children:["\xa5",p.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"商品合計"}),(0,r.jsxs)("span",{className:"font-medium",children:["\xa5",f.toLocaleString()]})]}),g>0&&(0,r.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,r.jsx)("span",{children:"ポイント使用"}),(0,r.jsxs)("span",{className:"font-medium",children:["-",g.toLocaleString(),"pt"]})]})]}),j?(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.Z,{size:20,className:"text-green-600"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"獲得ポイント"})]}),(0,r.jsxs)("span",{className:"text-xl font-bold text-green-600",children:["+",b,"pt"]})]}):(0,r.jsx)("div",{className:"bg-gray-100 rounded-lg p-3 flex items-center justify-center gap-2",children:(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"ポイント付与なし"})}),(0,r.jsxs)("div",{className:"text-center pt-2",children:[(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"現在のポイント"}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[y.newPoints.toLocaleString(),"pt"]})]})]})}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"取引ID"}),(0,r.jsx)("span",{className:"font-mono font-medium",children:N})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"会員ID"}),(0,r.jsx)("span",{className:"font-medium",children:y.memberId})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"日時"}),(0,r.jsx)("span",{className:"font-medium",children:v})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("button",{onClick:()=>{alert("レシート印刷機能は開発中です")},className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white font-bold py-4 rounded-lg transition-all shadow-md hover:shadow-lg active:scale-98 flex items-center justify-center gap-2",children:[(0,r.jsx)(o.Z,{size:20}),(0,r.jsx)("span",{children:"レシートを印刷"})]}),(0,r.jsxs)("button",{onClick:()=>{e.push("/terminal/")},className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,r.jsx)(x.Z,{size:18}),(0,r.jsx)("span",{children:"ホームに戻る"})]})]}),(0,r.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-xs text-blue-800 text-center",children:"ポイントは即座にお客様のアカウントに反映されました"})})]})})]})]})}},9008:function(e,t,s){e.exports=s(3867)},1163:function(e,t,s){e.exports=s(3079)}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=3461)}),_N_E=e.O()}]);